<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<title>HDDSuperClone Manual</title>
	<meta name="generator" content="LibreOffice 4.2.8.2 (Linux)">
	<meta name="author" content="Windows User">
	<meta name="created" content="20170723;141300000000000">
	<meta name="changed" content="20220212;145603942223813">
	<meta name="AppVersion" content="12.0000">
	<meta name="Company" content="Grizli777">
	<meta name="DocSecurity" content="4">
	<meta name="HyperlinksChanged" content="false">
	<meta name="LinksUpToDate" content="false">
	<meta name="ScaleCrop" content="false">
	<meta name="ShareDoc" content="false">
	<style type="text/css">
	<!--
		@page { margin: 1in }
		p { margin-bottom: 0.1in; direction: ltr; color: #000000; line-height: 120%; text-align: left; widows: 2; orphans: 2 }
		p.western { font-size: 12pt }
		p.cjk { font-family: "Times New Roman"; font-size: 12pt }
		p.ctl { font-size: 12pt }
		h1 { margin-top: 0.03in; margin-bottom: 0.03in; direction: ltr; color: #000000; text-align: left; widows: 2; orphans: 2; page-break-after: auto }
		h1.western { font-family: "Times New Roman", serif }
		h1.cjk { font-family: "Times New Roman"; font-size: 24pt }
		h1.ctl { font-size: 24pt }
		h2 { margin-top: 0.03in; margin-bottom: 0.03in; direction: ltr; color: #000000; text-align: left; widows: 2; orphans: 2; page-break-after: auto }
		h2.western { font-family: "Times New Roman", serif }
		h2.cjk { font-family: "Times New Roman" }
		h2.ctl { font-family: "Times New Roman" }
		dd { direction: ltr; color: #000000; text-align: left; widows: 2; orphans: 2 }
		dd.western { font-size: 12pt }
		dd.cjk { font-family: "Times New Roman"; font-size: 12pt }
		dd.ctl { font-size: 12pt }
		pre { direction: ltr; color: #000000; text-align: left; widows: 2; orphans: 2 }
		pre.western { font-family: "Times New Roman", serif; font-size: 12pt }
		pre.cjk { font-family: "Times New Roman"; font-size: 12pt }
		pre.ctl { font-family: "Times New Roman"; font-size: 12pt }
		dt { direction: ltr; color: #000000; text-align: left; widows: 2; orphans: 2 }
		dt.western { font-size: 12pt }
		dt.cjk { font-family: "Times New Roman"; font-size: 12pt }
		dt.ctl { font-size: 12pt }
		a:link { color: #0000ff }
	-->
	</style>
</head>
<body lang="en-US" text="#000000" link="#0000ff" dir="ltr">
<h1 class="western" align="left"><font size="7" style="font-size: 32pt">HDDSuperClone</font></h1>
<h1 class="western" align="left"><br><br>
</h1>
<p align="left" style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
This manual is for HDDSuperClone (version 2.3.2 23 January 2022)</p>
<p align="left" style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Home page: <a href="http://www.hddsuperclone.com/">www.</a><a href="http://www.hddsuperclone.com/">hddsuperclone</a><a href="http://www.hddsuperclone.com/">.com</a></p>
<p align="left" style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
A PDF version of this manual is available in the downloads section</p>
<p align="left" style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="5" style="font-size: 20pt"><b>Chapters:</b></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<a href="#Introduction">Introduction</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#Important Notes">Important
Notes</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#Installing">Installing</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#Getting started">Getting
Started</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#Theory of Operation">Theory
of Operation</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#Usage">Usage</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#Understanding the Display">Understanding
the Display</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#Analyze Results Explained">Analyze
Results Explained</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#Skip Resets">Skip
Resets</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#Relay Operation">Relay
Operation</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#Virtual Disk Device Driver Mode (for data extraction)">Virtual
Disk Device Driver Mode (for data extraction)</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#Progress Log Structure">Progress
Log Structure</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#520 Byte SAS Drives">520
Byte SAS Drives</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#USB Direct Mode">USB
Direct Mode</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#Rebuild Assist">R</a><a href="#Rebuild Assist">ebuild
Assist</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#Tips and Tricks">Tips
and Tricks</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#Direct IO Restrictions">Direct
IO Restrictions</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#How to Hide a Drive from the OS">How
to Hide a Drive from the OS</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#Reporting Bugs">Reporting
Bugs</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#HDDSuperTool Usage">HDDSuperTool
Usage</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#HDDSuperTool Default Variables">HDDSuperTool
Default Variables</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#HDDSuperTool Script Examples">HDDSuperTool
Script Examples</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#HDDSuperTool Script Commands">HDDSuperTool
Script Commands</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><a href="#HDDSuperTool Scripts">HDDSuperTool
Scripts</a></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><br>
</p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><br>
</p>
<h2 class="western"><a name="Introduction"></a><font size="5" style="font-size: 20pt">Introduction</font></h2>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
HDDSuperClone is an advanced disk cloning tool for Linux. It is used
to clone a disk to another disk or image file. It creates a
sector-by-sector clone or image of the entire disk. It uses multiple
copy phases to achieve the best possible results when there are bad
sectors. It uses a progress log file to log the progress of the
recovery, and can be stopped and resumed at any time. It has an
advanced skipping algorithm that is designed to self adjust to skip
out of a bad area or bad head as efficiently as possible. It has many
advanced options, but most average users should not need to change
those options in most cases. 
</p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><img src="data:" hspace="12"></p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="Important Notes"></a><font size="5" style="font-size: 20pt">Important
Notes</font></h2>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
This is an advanced utility, and it is very possible to send
destructive commands to a drive. Please make sure you know what you
are doing before using this software. I am in no way responsible for
any data loss or damage caused by using this software. Use it at your
own risk! 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
While I do my best to ensure that this software does what it is
supposed to without flaw, there is always the possibility of a
programming error on my part. If an error is found, I will fix it as
soon as possible. However, I assume no responsibility for any data
loss or damage caused by any programming error. You are responsible
for testing any commands and scripts before using them on critical
data. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>HARD DISK DRIVE PHYSICAL DAMAGE DISCLAIMER:</b></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
When dealing with any hard disk drive, it is always possible that
there is physical damage inside. This is even more likely if the
drive was dropped. When attempting to read a disk that is damaged,
further internal damage can occur. If a head is physically damaged,
it can destroy the surface of the platter, which destroys all data on
that surface. No software can detect this. It can only be found by
examining the drive in a HEPA 100 clean room or laminar flow
workbench. NEVER open a drive yourself unless you have a HEPA 100
clean room or laminar flow workbench, and have experience in doing
so. If you open a drive outside of those conditions, you will
introduce the contamination of microscopic dust particles, which will
kill the drive heads and cause damage to the platter surfaces,
destroying all hope of recovering the data. So be aware that when
dealing with a failing hard drive without knowing what you are doing,
you could be causing further damage without even knowing it.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>BUFFER / CLUSTER SIZE LIMITATIONS:</b></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
There is a maximum program buffer size limit of 4194304 (4MB) for
direct IDE and AHCI modes. To get the maximum cluster size for direct
IDE and AHCI, you must start the Virtual Disk Driver. Note that when
using passthrough mode that there is normally a buffer limit of
524288 (512KB). There is a limit stored at
/sys/block/DEVICE/queue/max_sectors_kb, where &quot;DEVICE&quot; is
the device you are reading (example
&quot;/sys/block/sda/queue/max_sectors_kb&quot;). The number stored
here is referenced in KB, and the default for a hard drive is usually
512 (meaning 512KB). This number is usually smaller for a USB
connected drive. If you attempt to set a cluster size that would put
the buffer above the limit,  the cluster size will be reduced to the
allowed limit. When using HDDSuperTool, an attempt to set the buffer
size greater than allowed will result in an I/O error.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>SPECIAL NOTE FOR NTFS DESTINATION IMAGE FILE SPEED:</b></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
When the destination is an image file on a NTFS partition, it has
been noticed that the write speed can be slower than normal. This has
something to do with ntfs-3g package in Linux. In testing it has been
found that going into the advanced settings of HDDSuperClone and
disabling the operating system write buffer brings the speed back to
normal. This is the opposite of how it should normally work, but for
NTFS this seems to be the solution for the write speed issue.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>SPECIAL NOTE FOR SAS SCSI DRIVE CLUSTER SIZE:</b></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
When working with SAS SCSI drives in passthrough mode, the usable
buffer seems to be reduced by over half of the limit. For example,
when working with a 520 sector size drive the hard limit for cluster
size was 1008 (524288 / 520), but it was likely to fail with some an
I/O Error Invalid Argument if the cluster size was set above 504. The
issue also seems to affect drives with the normal 512 byte sector
size. So if you set the cluster size high and end up with an <b>I/O
Error Invalid Argument</b>, set the cluster size to half of what the
maximum would be.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>SPECIAL NOTE FOR ENABLING SCSI WRITES TO DESTINATION:</b></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Enabling the SCSI writes to the destination is ONLY meant for writing
to odd sized SAS drives (520 bytes per sector). Never use it for any
other purpose. When enabling this feature it has been found that no
sense data is returned by the OS, so write error detection is
limited.  A two second write timeout has been implemented to catch
bad writes that could possibly get past the write error detection. If
you use this option, it is recommended to read back the data and
verify it against the original, if possible.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>SPECIAL NOTE FOR USB ATTACHED DRIVES: </b>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
USB attached drives are not always predictable. This is dependent on
the USB bridge/adapter. The USB bridge/adapter may not send the
proper response when there are errors or faults on the device. This
could mean that the program will continue when it should exit, and
all reads will be bad (or worse, all reads could be considered good
when there is not actually data being read!). It is possible that it
will not report any errors at all even for bad sectors, making it
look like all the data is being recovered when it is not. It may also
be possible that it may send a response indicating a fault when there
isn’t one, causing the program to exit. While I have done my best
to properly detect the condition of the device, there is nothing I
can do about adapters that respond in odd ways. If possible, it is
always recommended to attach the drive directly to the computer via
IDE/SATA connection. Use USB adapters at your own risk! 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>SPECIAL NOTE FOR USB DRIVES WITH HDDSUPERTOOL:</b></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
When in normal passthrough mode, it may be possible to send ATA
commands to USB attached ATA drives. However, what commands are
supported and how the drive reacts to certain commands is entirely up
to the USB adapter interface that is attached to (or built into) the
drive. This means that some commands may not be supported by the
drive, and some commands may give odd results. This is not the fault
of HDDSuperTool. For instance, there are some scripts for Western
Digital that use vendor specific commands to read modules. These
scripts will not work on all USB drives! There is nothing I can do
about that. If other commands seem to work fine, but the vendor
specific commands do not then the USB adapter interface (or the
drive) likely does not support those commands (the commands may be
locked out by the manufacturer). 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>SPECIAL NOTE FOR ATA-PASSTHROUGH ON LINUX KERNEL ABOVE 4.4:</b></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
On Linux kernels above 4.4 there is no longer any ATA return data in
ata-passthrough mode. Ubuntu 16.04.1 (kernel 4.4) works, but Ubuntu
16.04.2 (kernel 4.8) only returns SCSI sense data. This does not have
a major effect on program operation for HDDSuperClone, although
certain optimizations will not happen. But this can effect how some
of the scripts work in HDDSuperTool.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>SPECIAL NOTE FOR NVME SSD DRIVES:</b></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
NVME SSD drives will not show up with the default passthrough mode.
You must use <b>Generic source device</b> mode.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>SPECIAL NOTE FOR USING VIRTUAL MACHINES:</b></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
HDDSuperClone is NOT meant to be run from within a virtual machine.
It should always be run directly on the hardware. While some modes
may work within a virtual machine, it is not in any way supported.
Also, the direct modes of the pro version require direct hardware
access, so they will not work within a virtual machine, and will
likely cause a lockup if used within a virtual machine.</p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><img src="data:" hspace="12"></p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="Installing"></a><font size="5" style="font-size: 20pt">Installing</font></h2>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt"><b>Import </b><b>information</b><b>
about program dependencies</b>: If you successfully install
HDDSuperClone, but get errors when you try to run it, it is possible
that some program dependencies are missing. In this case, try the
following terminal command to install the dependencies.</font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">For Debian based (Ubuntu):</font></p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">sudo
hddsuperclone-install-depends-deb.sh</font></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">For Red Hat based (Fedora):</font></p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">sudo
hddsuperclone-install-depends-red.sh</font></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">The script will attempt to
perform the following actions for Debian:</font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">apt-get install libusb-0.1 -y</font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">apt-get install make -y</font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">apt-get install gcc -y</font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">And these actions for Red Hat:</font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">yum install libusb-0.1 -y</font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">yum install make -y</font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">yum install gcc -y</font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">If successful, there should be
no further errors when starting the program. Libusb is important for
both free and pro versions, make and gcc are only important for the
pro version.</font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">HDDSuperClone is supplied as
an executable, with separate ones for 32bit and 64bit. You CANNOT run
the 32bit on a 64 bit system and vice versa (you may get an odd file
not found error if you try). </font>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">HDDSuperClone now has DEB
(Debian/Ubuntu) and RPM (RedHat/Fedora) installers available. If you
have downloaded the appropriate installer then you should just be
able to double click on it to start the installation process. This
method should even work on many live CDs, but not all. If you are
unable to use one of the installers, then you will need to follow the
instructions below to install from the tar.gz file or to run without
installing. </font>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">If you have downloaded the
tar.gz file, then the easiest way to get started is to copy the
tar.gz file to a flash drive, and then use simple copy and paste to
put it in the Home folder that can be found on the desktop of the
Linux install. When you open a terminal it should default to the same
Home folder that is on the desktop. </font>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">To extract hddsuperclone, open
a terminal and use the following commands (replacing the
-x.x-x.x.-xxx with proper version number and architecture): </font>
</p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">gunzip
hddsuperclone-x.x-x.x.-xxx.tar.gz</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">tar
xf hddsuperclone-x.x-x.x.-xxx.tar</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">Then navigate to the proper
directory: </font>
</p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">cd
hddsuperclone-x.x-x.x.-xxx</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">The following method to
install HDDSuperClone will not only work on a Linux installation, but
you can use the same method when booting from a live CD. The only
difference is that every time you use a live CD, you will need to
perform these steps after each boot. </font>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">To install hddsuperclone, use
the following command: </font>
</p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">sudo
make install</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">The &quot;make install&quot;
command needs to be run as root, which is why &quot;sudo&quot; is
included in this example. Your sysem may use a different command, or
you may already be root. If it is not ran as root, then you will
likely get permission errors and the install will not be complete.
Note that you can also uninstall it with the command &quot;sudo make
uninstall&quot;. There is now also an uninstaller script that can be
ran by typing &quot;sudo hddsuperclone-uninstall.sh&quot;. </font>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">You must run hddsuperclone as
root. For Ubuntu you would use &quot;sudo&quot; in front of the
command: </font>
</p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">sudo
hddsuperclone</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">Please consult the
documentation for your version of Linux for information on how to run
as root. </font>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">To run it without installing,
you must be in the same directory as hddsuperclone. Note that some
versions of Linux will not allow you to run a program from certain
external devices (such as a FAT32 USB drive). Example to run it from
the current directory: </font>
</p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">sudo
./hddsuperclone</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">You may need to change the
permissions on the file so that you have the rights to run it. The
following command should do that: </font>
</p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">sudo
chmod a+x hddsuperclone</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="3" style="font-size: 12pt">If you are booted from a live
CD that does not allow installing with make (maybe make does not
exist) and you are trying to run it from a USB drive and are getting
a permission error, you can copy the executable to the home folder
and run it from there. Note that if using a live CD the home folder
exists in ram and will be cleared on a reboot. The following example
assumes you are in the folder on the USB drive that contains
hddsuperclone. The first command copies it to the home folder, the
second command gives permission to execute, and the third command
runs it: </font>
</p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">sudo
cp hddsuperclone /home</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">sudo
chmod a+x /home/hddsuperclone</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">sudo
/home/hddsuperclone</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><br>
</p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><img src="data:" hspace="12"></p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="Getting started"></a><font size="5" style="font-size: 20pt">Getting
started</font></h2>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
To use HDDSuperClone to clone a disk drive, first open HDDSuperClone,
either continue in English or change the language at the first popup
box and <b>Continue</b>. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Once at the main window, choose <b>New Project</b> from the file
menu. Choose a name and location for the project log file. <i><b>Remember
that if using a Live CD, the project log file is stored in RAM and
will be gone after a reboot unless you choose a different location,
such as a flash drive!</b></i> 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Choose the source drive and the destination drive or image from the
<b>Drives</b> menu. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Click the <b>Connect</b> button to connect to the source and
destination. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
To start cloning, click the <b>Start</b> button. To stop cloning at
any time, click the <b>Stop</b> button. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Click the <b>Disconnect</b> button to disconnect the source and
destination (to change some settings you must be disconnected).</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
HDDSuperClone can be stopped and restarted as needed. To resume after
closing the program, follow the steps above except choose to <b>Open
Project</b> instead of New Project. Please see the Usage section of
this manual for more advanced explanations and settings.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="Theory of Operation"></a><font size="5" style="font-size: 20pt">Theory
of Operation</font></h2>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
HDDSuperClone uses multiple copy phases to achieve the best possible
results. To stop the program at any time, click “Stop” in the
GUI. The program can also be stopped and closed by pressing ctrl-c
from the terminal window. A progress log file is used to keep track
of recovery progress, and when resumed will pick up where it left
off, unless you reset the status, or in some cases if you change the
options you may alter how it resumes.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Phase 1 </b>is a copy pass forward with skipping. <b>Phase 2 </b>is
a copy pass backward with skipping. Together they offer the best
attempt to get the most good data first and fast from the good areas
of the drive. The skipping is based on read errors and will skip when
a read error is encountered, and self adjusts to try to skip out of a
bad head in about 7 read errors. A read that takes longer then the
–skip-threshold value will also trigger a skip event. The skipping
starts out at –skip-size, and increases as needed per the
algorithm, unless it hits –max-skip-size in which case it is reset
back to –skip-size and the program will stop with an error message.
These two passes are the money passes. If after these two passes you
don’t have a percentage complete in the upper 90’s, then you
likely have a weak/damaged head, and the next phases could take a
long time to complete. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Phase 3</b> is a copy pass forward with skipping. But the skipping
size for this pass does not self adjust, and skipping is based on the
read rate instead of read errors. If the read rate is below the value
of –rate-skip for two consecutive reads, it skips ahead the amount
of –skip-size. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Phase 4</b> is a copy pass forward without skipping. This gets all
the remaining non-tried areas. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
All failed blocks larger than one sector (LBA) in size are marked as
non-trimmed by the first 4 phases. Failed blocks that are one sector
in size may be marked as bad if timeouts are not used. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Trimming</b> reads each non-trimmed one sector at a time forward
until a read error, and then backward until a read error. Any trimmed
blocks larger than one sector are marked as non-scraped. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Dividing</b> is only performed if trimming is turned off. If
trimming is turned off, then 1 or 2 dividing copy passes are done
instead. The default is for only one dividing pass, to activate the
second pass use the –do-divide2 option. If there is only one
dividing pass, then it reads the non-trimmed blocks with the cluster
size / 8, and marks the failed blocks as non-scraped. If the
–do-divide2 option is used, then the first dividing pass reads
non-trimmed blocks with the cluster size / 4. The second dividing
pass reads non-divided blocks with the cluster size / 16. The first
dividing pass marks failed blocks larger than one sector as
non-divided, the second pass marks them as non-scraped. Trimming has
been found to be more efficient than dividing with scsi-passthrough
mode. Dividing can be more efficient with ata-passthrough mode (not
in the free version as the marking of reported bad sectors is
disabled) and the direct modes (more so with direct mode when using
timers), but how efficient depends on how the drive is reacting. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Scraping</b> reads the non-scraped blocks one sectors one at a
time forwards. Failed sectors are marked as bad. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Retrying</b> retries all the bad sectors one at a time forwards.</p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><img src="data:" hspace="12"></p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="Usage"></a><font size="5" style="font-size: 20pt">Usage</font></h2>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
HDDSuperClone must be run as root. The format for running
hddsuperclone is: 
</p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="2" style="font-size: 10pt"><font size="3" style="font-size: 12pt">hddsuperclone
[</font><i><font size="3" style="font-size: 12pt">options</font></i><font size="3" style="font-size: 12pt">]</font></font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
HDDSuperClone supports the following options: 
</p>
<p class="western" style="margin-bottom: 0in; line-height: 100%">‘<font face="Courier New, serif">-h</font>’</p>
<p class="western" style="margin-bottom: 0in; line-height: 100%">‘<font face="Courier New, serif">--help</font>’</p>
<p style="margin-left: 0.5in; margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Print an informative help message describing the options and exit. 
</p>
<p class="western" style="margin-bottom: 0in; line-height: 100%">‘<font face="Courier New, serif">-v</font>’</p>
<p class="western" style="margin-bottom: 0in; line-height: 100%">‘<font face="Courier New, serif">--version</font>’</p>
<p style="margin-left: 0.5in; margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Print the version number and exit. 
</p>
<p class="western" style="margin-bottom: 0in; line-height: 100%">‘<font face="Courier New, serif">--</font><font face="Courier New, serif">tool</font>’</p>
<p style="margin-left: 0.5in; margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Start HDDSuperTool. See the <a href="#HDDSuperTool Usage">HDDSuperTool
Usage</a> section for more information. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="4" style="font-size: 14pt"><b>Language Selection</b></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
When HDDSuperClone is first started in GUI mode, there will be a box
with two buttons. The top button is to Continue to open
HDDSuperClone, the bottom button is to change the language. When you
click on Change Language, a file menu will open to a location where
the language files are located. Choose the one that matches your
desired language and then click Open. You should see a popup message
that the language was changed successfully, click OK and then
Continue.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The language files are created using Google Translate. Because of
this, there will possibly, if not likely, be some translation issues.
However, I believe that it should be good enough to be able to
operate the program.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Update: I am now adding additional translation versions of language
files that have been provided by others. They will have a dash “-”
after the language name, and either a number or some other
identifying method, depending on information provided by the author.
If for some reason one of these additional language files does not
work, it would likely be my fault for not getting it updated to match
any updates I make in the program.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
If you wish to submit a language translation pack, it must be in the
format that HDDSuperClone can open. And hopefully you are willing to
help with updates as changes and additions to the program are made.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; font-style: normal; line-height: 100%">
<font size="4" style="font-size: 14pt"><b>The main window of
HDDSuperClone has the following buttons on the side:</b></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Connect</b> – Connects the program to the source and destination
devices.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Disconnect</b> – Disconnects the program from the source and
destination devices.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Start</b> – Starts the selected operation.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Stop</b> – Stops the current operation.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Analyze</b> – Starts the process of analyzing the device.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Extended A</b><b>nalyze</b> – Extended version of analyzing the
device.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>SMART</b> – Gets and displays the SMART status of the device.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Clone Mode</b> – Selects the operation of cloning.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>S</b><b>low</b><b> Driver </b>– Selects whether or not to use
the slow driver mode.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Virtual Mode 1</b> – Selects the virtual disk device driver
operation mode 1.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Mode 2</b> – Selects the virtual disk device driver operation
mode 2.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Mode 3</b> – Selects the virtual disk device driver operation
mode 3.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Mode 4 </b>– Selects the virtual disk device driver operation
mode 4.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Mode 5 </b>– Selects the virtual disk device driver operation
mode 5.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Soft Reset</b> – Performs a soft reset on the source device in
direct mode. In other modes it reconnects to the device.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Hard Reset</b> – Performs a hard reset on the source device in
direct mode. In other modes it reconnects to the device.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Power Off</b>– Activates the primary relay.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Power On</b> – Deactivates the primary relay.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; font-style: normal; line-height: 100%">
<font size="4" style="font-size: 14pt"><b>The main window of
HDDSuperClone has the following menu items at the top:</b></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>File--&gt;Open Project </b><b>–</b> This opens a new project
file (also called a progress log file). This is the progress log file
used for resuming the recovery.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>File--&gt;New Project</b><span style="font-weight: normal"> </span><span style="font-weight: normal">–</span><span style="font-weight: normal">
This opens an existing project file.</span></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>File--&gt;Import ddrescue log (map) file</b><span style="font-weight: normal">
</span><span style="font-weight: normal">–</span><span style="font-weight: normal">
This will import a ddrescue style map file. You must choose New
Project first to be able to import a ddrescue log file into the
project.</span></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>File--&gt;</b><b>Save Project </b><span style="font-weight: normal">–</span><span style="font-weight: normal">
Saves the current project. Note that the project is automatically
saved during the cloning process every 30 seconds, and at other times
when making settings changes.</span></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>File--&gt; Save Project As</b><span style="font-weight: normal"> </span><span style="font-weight: normal">-
</span><span style="font-weight: normal">Saves the current project as
an alternative file name. </span><span style="font-weight: normal">This
does not change the current project name.</span></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>File--&gt;</b><b>Export ddrescue log (map) file</b><span style="font-weight: normal">
</span><span style="font-weight: normal">–</span><span style="font-weight: normal">
Exports the current project as a ddrescue style log file. </span><span style="font-weight: normal">This
does not change the current project.</span></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>File--&gt;</b><b>Add to Domain from DMDE bytes file</b><span style="font-weight: normal">
</span><span style="font-weight: normal">–</span><span style="font-weight: normal">
Use a </span><span style="font-weight: normal">cluster list or file
list bytes file from DMDE to add the targeted data to the domain for
the purpose of targeted cloning </span><span style="font-weight: normal">(not
available in free version)</span><span style="font-weight: normal">.
The cluster list (Cluster Map Report) must be in the form of “in
bytes from the disk start”. The file list (List sectors to file)
must be in the form of “bytes”. </span><span style="font-weight: normal">Failure
to use the format of bytes will result in incorrect data targeting.</span></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>File--&gt;</b><b>Load domain file</b><span style="font-weight: normal">
</span><span style="font-weight: normal">–</span><span style="font-weight: normal">
Use a domain file to limit the recovery area to a domain. The domain
fil</span><span style="font-weight: normal">e can</span><span style="font-weight: normal">
be in the same format as the standard progress log file, </span><span style="font-weight: normal">or
a ddrescue log file, the format will be auto detected</span><span style="font-weight: normal">.
Areas marked as finished in the domain will be recovered. Areas
marked as anything else will not be tried. The domain can be loose,
meaning that there can be gaps and the start and end positions are
not limited. </span>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>File</b><b>--&gt;</b><b>New</b><b> </b><b>domain file</b><span style="font-weight: normal">
</span><span style="font-weight: normal">–</span><span style="font-weight: normal">
</span><span style="font-weight: normal">Start a new domain file to
use with the driver mode.</span></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>File--&gt;</b><b>Clear Domain </b><b>–</b><span style="font-weight: normal">
Clears any loaded domain data from memory</span><b>.</b></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>File</b><b>--&gt;</b><b>Save</b><b> </b><b>domain file </b><b>–</b><span style="font-weight: normal">
</span><span style="font-weight: normal">Saves the current domain
file</span><b>.</b></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>File</b><b>--&gt;</b><b>Save</b><b> </b><b>domain file </b><b>as</b><b>
</b><b>–</b><span style="font-weight: normal"> </span><span style="font-weight: normal">Saves
the current domain file with a different file name</span><b>.</b></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>File--&gt;</b><b>Quit</b><span style="font-weight: normal"> </span><span style="font-weight: normal">–</span><span style="font-weight: normal">
Quit HDDSuperClone and exit.</span></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Mode--&gt;</b><b>Generic source file</b> – The source will be a
file, when choosing the source a file dialog will open.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Mode--&gt;</b><b>Generic source device</b> – The source will be
a block device, when choosing the source it will list available block
devices. You should use this mode if the device does not show up for
the default passthrough mode, such as for NVME devices.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Mode--&gt;Passthrough auto detect</b> – Automatically chooses
ATA passthrough if capable, otherwise uses SCSI passthrough.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Mode--&gt;Passthrough SCSI</b> – Use SCSI passthrough mode. This
is the mode that can work with a USB attached device. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Mode--&gt;Passthrough ATA</b> – Use ATA passthrough mode. This
can have a benefit of bypassing some of the kernel driver retries
that may be performed in scsi mode. While this may list a USB
attached drive, a USB attached drive cannot be cloned in ata mode. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Mode--&gt;Direct IDE</b> – Use direct IDE mode (limited in free
version). The drive must be hidden form the OS to use this mode. The
drive must be either a PATA connected drive, or the BIOS must be set
to IDE mode for a SATA connected drive.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Mode--&gt;Direct AHCI </b><b>–</b> Use direct AHCI mode (not
available in free version). The drive must be hidden form the OS to
use this mode. The drive must be a SATA connected drive.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Mode-→Direct </b><b>USB</b><b> </b><b>–</b> Use direct USB
mode (not available in free version). This has the benefit of
bypassing the OS drivers when accessing a USB attached mass storage
device, and gives the possibility of timeout resets for USB devices.
Use this mode for devices such as flash drives.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Mode-→Direct </b><b>USB </b><b>ATA</b><b> </b><b>–</b> Use
direct USB ATA mode (not available in free version). This is the same
as the regular direct USB mode, except it performs some commands that
are meant for conventional ATA drives (including standard SATA AHCI
SSD drives). You should not use this mode for flash drives, as the
commands can lock up the device, causing a failure when trying to
connect.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Mode--&gt;</b><b>Fill Zero</b> – Fill all non-finished areas of
the destination drive or image with zeros. Any area that is not
marked as FINISHED will be filled. You must supply the progress log
file, but the source is not required for this command. This command
will ignore any domain file (the domain file will have no effect).
The The settings Input offset, Size, and Output offset do affect this
command, as it will only fill areas that are within the limits set by
those options if they are set.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Mode--&gt;</b><b>Fill Mark</b> – Fill all non-finished areas of
the destination drive or image with a marking pattern, and then exit.
Any area that is not marked as FINISHED will be filled. You must
supply the progress log file, but the source is not required for this
command. This command will ignore any domain file (the domain file
will have no effect). The settings Input offset, Size, and Output
offset do affect this command, as it will only fill areas that are
within the limits set by those options if they are set. The format
for the fill pattern is as follows: At the start of every LBA will be
the text &quot;HDDSUPERFILLMARK&quot;, followed by a space, and then
the status of the block according the progress log (NON-TRIED,
NON-TRIMMED, NON-SCRAPED, NON-DIVIDED, BAD). There will be another
space and then the number of the LBA as text proceeded by &quot;0x&quot;
to indicate the number is in hex (example 0x1a2b3c). There will be a
few more spaces, and then the rest of the LBA block will be filled
with a repeating hex pattern of dd ee aa dd bb ee ee ff. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Mode-→Erase</b><b> Destination</b> – Use this mode to erase a
destination disk before cloning to it. You need to start a new
project to begin erasing, or open an existing erase project to resume
erasing. If you have issues with it locking up, you may wish to
disable the Operating System write buffer in the advanced settings.
Erasing is just writing zeros to the disk, and the OS buffer can get
way ahead of the actual writes to the disk, which can cause issues
when trying to choose a disk in another instance of HDDSuperClone.
However, disabling the write buffer can make it slower. You must be
disconnected for a change to the write buffer setting to take effect.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Mode--&gt;</b><b>Virtual Driver only</b> – This mode does not
read any data from a source. It is for use with the driver mode where
there has already been data recovered, and no data is needed or
desired to be read from the original source. Data is only read from
the destination.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Drives--&gt;Choose Source Drive</b> – Choose the source drive to
recover.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Drives--&gt;Choose Destination--&gt;</b><b>Generic block device </b>–
Choose a block device as the destination.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Drives--&gt;Choose Destination--&gt;Drive</b> – Choose the
destination drive.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Drives--&gt;Choose Destination--&gt;Image file</b> – Choose the
destination image file.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Drives--&gt;Choose Destination--&gt;NULL (No destination)</b> –
Choose not to use a destination, no data will be recovered.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<i>Note that when choosing a drive, the number in parentheses is the
size of the drive in bytes.</i></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Drives</b><b>--&gt;</b><b>Start</b><b> Virtual Disk Driver</b> –
Starts the virtual disk driver so that the driver mode can be used.
May also be needed for DMA memory mapping if the program is unable to
get memory in the 32 bit range by the normal method.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Drives</b><b>--&gt;</b><b>St</b><b>op Virtual Disk Driver</b> –
Stops the virtual disk driver.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Drives</b><b>--&gt;</b><b>Fix Driver Memory Error</b> – Fixes
the issue when the virtual driver will not load with a memory
allocation error (due to not enough contiguous memory).</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Drives</b><b>--&gt;</b><b>Disable</b><b> Ports</b> – Disable
ports for the purpose of hiding drives from the operating system.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Drives</b><b>--&gt;</b><b>Restore original startup port
configuration</b> – Restore the original GRUB configuration to
clear any changes from disabling ports.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Drives</b><b>--&gt;</b><b>Disable</b><b> </b><b>USB mass storage
driver</b> – Disable the USB mass storage driver so that the OS
will not try to access any USB attached drive.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Drives</b><b>--&gt;</b><b>Restore</b><b> </b><b>USB mass storage
driver</b> – Restore the USB mass storage driver.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Settings--&gt;Clone Settings</b> – Open the Clone Settings
dialog</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Settings--&gt;Advanced Settings</b> – Open the Advanced Settings
dialog</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Settings--&gt;</b><b>Timer</b><b> Settings</b> – Open the Timer
Settings dialog</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Settings--&gt;</b><b>Primary Relay</b><b> Settings</b> – Open
the Primary Relay Settings dialog</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Settings--&gt;</b><b>Choose </b><b>Primary Relay</b><b> </b><b>Board</b>
– This will open a window to select available relay boards. Only
recognized relay boards will be listed.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Tools--&gt;Reset Current Status </b>– Resets the current status
and position back to the default starting point of non-tried. It also
resets all skipping data. This can be helpful if your settings cause
runaway skipping and there have been skip reset events. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Tools--&gt;Repair Log </b>– This will attempt to repair the
progress log file in the event that it is incomplete, damaged, or
otherwise corrupt, and then exit. A source drive must be selected as
the log end is compared to the size of the drive. Any repaired areas
where the status cannot be known for sure are marked as non-tried.
You should not normally need to use this option. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Tools--&gt;Reset Log</b> – This will reset the position to 0,
the current status to non-tried, and will change all unfinished
blocks in the log to a status of non-tried. This will also reset all
skipping data. This option is useful if you need to make major
changes to the settings and need to start over, but don’t want
loose the status of any finished blocks. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Tools--&gt;</b><b>Display </b><b>Identify</b><b> Results</b> –
This will display the identify device results.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Tools--&gt;</b><b>Display Analyze Results</b> – This will
re-display the past results from analyzing the device.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Tools--&gt;</b><b>Display </b><b>SMART</b><b> Results</b> – This
will re-display the past SMART results from the device.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="4" style="font-size: 14pt"><b>Clone Settings</b></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Phase 1 </b>– Enable phase 1.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Phase 2 </b>– Enable phase 2.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Phase 3</b> – Enable phase 3.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Phase 4 </b>– Enable phase 4.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Trim (overrides dividing) </b>– Enable trimming phase.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Divide</b> – Enable dividing phase.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Divide 2 </b>– Perform two dividing phases instead of just one
if Divide is enabled and Trim is disabled.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Scrape </b>– Enable the scraping phase.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Reverse</b> – All operations are done in the opposite direction.
This means that most of the operations are done in reverse, but since
phase 2 is normally in reverse, when this option is used phase 2 is a
forward pass. If you only want to read in reverse then also disable
phase2. While trimming it done opposite, it still reads in both
directions, so if you REALLY only want to read in reverse only then
also disable trimming. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Skip Fast </b>– Not available in free version. Enables a more
aggressive skipping algorithm to skip out of a bad head faster. This
does increase the possibility of over skipping, especially on a
single platter two head drive.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Mark Bad Head</b> – Not available in free version. Uses the
skipping information during phases 1 and 2 to mark what is considered
to be a bad head in the log.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Read Bad Head </b>– Not available in free version. If unchecked,
any areas that were marked as bad head in phases 1 and 2 (or Rebuild
Assist phase) will not be read in further phases.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Re</b><b>build Assist</b><b> </b>– Not available in free
version. Enables the Rebuild Assist phase, if Rebuild Assist is
enabled in the Advanced settings. If it is not enabled in the
Advanced settings, then this setting has no effect. This phase takes
the place of phase 1. After a successful completion of this phase,
the setting will disable itself so the Rebuild Assist phase will not
run again in future passes.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Retries </b>– The number of retry passes to perform.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Cluster size (LBA) </b>– Number of sectors (LBA) per read block
in copy phases 1-4, default 128. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Sector size (bytes)</b> – The logical sector size in bytes. The
program attempts to get this information automatically when choosing
the source drive.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Input Offset (LBA)</b> – LBA offet to start reading from,
default 0. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Size (LBA) </b>– LBA to read starting from Input Offset, default
is until the end of the drive. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Skip Size (LBA) phase</b><b>-</b><b>1-2-3</b> – Starting skip
size in LBA, the default is 4096 LBA. This option only applies to
copy phases 1, 2, and 3. In copy phases 1 and 2 this number can grow
to adjust to the head skipping algorithm. In copy phase 3 this number
stays fixed. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Max </b><b>Skip Size (LBA) phase</b><b>-</b><b>1-2</b> – Maximum
skip size in LBA. The default is calculated as drive size divided by
1000, or 1 GB, which ever is smaller. This option only applies to
copy phases 1 and 2. The actual current skipping size is limited to
this value. You should normally not need to adjust this.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Skip Threshold (ms) phase-1-2</b> – The time in milliseconds for
a read that will trigger a skip event, the default is 1000 (1
second). This option only applies to copy phases 1 and 2. This is
meant for drives that have very slow reading areas, but not enough if
any errors in those areas to trigger the skipping algorithm. Any read
that takes longer than the value of the setting will trigger a skip
event. Note that for drives that have a &quot;slow responding&quot;
issue this will cause runaway skipping and you will see the skip
reset count increase. If this happens you may need to use the
–reset-status option and start over with adjusted options. To
disable this threshold just set it to a high number such as 60000 (60
seconds). 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Rate Skip (kB/s) phase-3 </b>– Rate for rate skipping pass in
kilobytes per second, the default is 50 kilobytes per second. This
option only applies to copy phase 3. If the rate is below this
setting for two consecutive rate updates, then the position skips
ahead by the starting skip size. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Exit on Slow (kB/s) phase-1-2</b> – Rate in kilobytes per second
for exiting on slow reads, the default is -1 (disabled). This option
only applies for copy phases 1 and 2. If the –exit-slow-time has
not been set, and the read rate is below this setting for two
consecutive rate updates, then the program will stop If the
–exit-slow-time has been set, and the read rate is below this
setting for longer than the slow timer value, the program will stop.
This option also increases the skip-threshold to a very high setting
so that it will not induce skipping, unless the skip-threshold
setting is set manually. This option is meant for drives that suffer
from a slow responding issue, where power cycling the drive when it
becomes slow will seem to bring it back up to speed for a short time.
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Exit on Slow Time (sec) phase1-2</b> – This is an optional timer
setting in seconds to complement the –exit-on-slow option, the
default is -1 (disabled). If set, this is the number of seconds of
slow reading before the program will stop. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Block size (LBA)</b> – Not available in free version. The number
of logical sectors per physical sector. All reads will be aligned
with this value, and this will be the smallest read size. This is
useful for advanced format drives, to make the reading more
efficient. The program attempts to get this information automatically
when choosing the source drive. Not all drives may return this
information.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Alignment offset (LBA)</b> – Not available in free version. If
there are multiple logical sectors per physical sector, and the
logical sectors have been offset (to accommodate for older operating
systems such as XP), this value should be set. It works with Block
size to align the reads for optimum performance. The program attempts
to get this information automatically when choosing the source drive.
Not all drives may return this information.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Max read rate (kB/s)</b><b> </b>– Not available in free version.
Limit the maximum read speed in kilobytes per second. The default
value of 0 is unlimited. This can help stabilize drives that get too
hot when reading fast, such as SSD and NVMe devices.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="4" style="font-size: 14pt"><b>Advanced Settings</b></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Do not create backup log</b> – By default every time the
progress log file is written, the current file is written with a
“.tmp” extension, then the last log is renamed with a &quot;.bak&quot;
extension, and then the tmp file is renamed to the log file. This is
to help prevent the possible loss of the progress log file due to
unforeseen circumstances. Using this option will turn off the
creation of the backup file. It does not turn off the use of the tmp
file. If you end up with a log file ending with the .tmp extension,
that file is likely incomplete and corrupt, and the regular or backup
file should be used to continue.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Enable phase logs</b> – When enabled a log with a time and phase
stamp in the name will be created at the end of every phase. This can
be useful for examining the progress from each phase.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Force access of mounted disk</b> – Force working with the source
even if it is detected to be mounted. It is not recommended to
attempt to recover a drive if it is mounted.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Force same controller / slave </b>– Force working with the
source even if it is detected that there is another drive on the same
controller, or the drive is a slave on the controller. This if for
direct IDE mode only. It is not recommended to use this option,
however there may be times when a drive and controller are locked up
and report these conditions when they are not true. This is a method
to get past that condition.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Enable changing the output offset </b>– Enable the ability to
change the output offset. You must close and reopen the Advanced
Settings for this change to take effect.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Output Offset </b>– LBA offset of destination writes, the
default value is -1 (follow input offset). This is considered an
advanced option. Under normal circumstances you should not use this
option. Do not use this option unless you know what you are doing!
Using this option improperly could cause total corruption of data on
the destination! 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Enable</b><b> changing current position</b><b> </b>– Enable the
ability to change the current position. You must close and reopen the
Advanced Settings for this change to take effect.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Current position</b>– LBA current position. It is not
recommended to change this until after phase 1 and 2 are complete,
because it will affect the skipping algorithm. Use this at your own
risk, jumping the position around without knowing what you are doing
could cause some data to not be recovered.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Action to perform on major drive error</b><span style="font-weight: normal">
– A major drive error is something other than a typical read error.
The Exit on Slow condition is also considered a major error.</span></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
– <b>Stop cloning with error message</b> – Stop cloning and show
an error message indicating the fault.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
– <b>Activate primary relay</b><b> </b>– Activate the primary
relay board, which is chosen under the primary relay settings.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
– <b>Call command </b>– Call the command specified, and then
continue cloning. If the command returns a non-zero value, then
cloning will stop with an error message.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
– <b>Test command </b>– Test the specified command.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Operating System write buffer</b> – Enable or disable the OS
write buffer for writes to the destination. Writes are usually faster
if this is enabled. Disabling this is safer if there is the
possibility of a power outage. If the write buffer is enabled and the
system crashes, there could be unwritten data that would be indicated
as recovered in the log.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Virtual Disk Device Driver output options</b><b> </b>– Options
for how the virtual disk handles read errors as presented by the
recovery.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
– <b>Return read error</b><b> </b>– Read errors will return with
a standard I/O error.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
– <b>Return zero filled data</b><b> </b>– Read errors will return
with zero filled data.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
– <b>Return mark filled data</b>– Read errors will return with
mark filled data. The pattern for mark filled data is repeating 16
bytes of text and 16 bytes of hexadecimal, HDDSUPERFILLMARK and
0xddeeaaddbbeeeeffddeeaaddbbeeeeff.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Virtual Disk </b><b>IO SCSI only</b><b> </b>– Only use IO SCSI
for reading the virtual disk. Normal block reads will return all
zeros when this is enabled. This is used with DMDE IO SCSI to improve
stability and help prevent lockups.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Virtual Disk </b><b>d</b><b>evice </b><b>n</b><b>ame</b><b> </b>–
The name of the virtual disk in /dev. The default name is sdv
(/dev/sdv). Note that if you choose a name that is already in use, it
will cause a system crash. Also, you should choose a conventional
name with the SDx format, or some software will not find or list it.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Virtual Disk minimum cluster size</b><b> </b>– This is for
virtual disk mode. When in mode 3, this will be the minimum cluster
read size. When cloning using a domain, this will also be the minimum
cluster read size, so that small domain reads can be prevented if
desired.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Use physical sector size as logical for virtual disk </b>– This
will use the physical sector size as the logical sector size when
presenting the virtual disk to the operating system. The physical
size is determined by the <b>Block size</b> setting in the Clone
Settings.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Do not perform identify when listing source devices</b><b> </b>–
This will disable the identify device command when listing source
devices in Direct IDE and Direct AHCI modes. This is to help prevent
a system lockup or error when listing possible source drives. If any
disks are performing operations, the identify command can cause an
issue. If you are attempting to run multiple instances at the same
time of HDDSuperClone in direct IDE or AHCI mode, you should enable
this option to prevent one instance causing an error in another
instance. When this mode is enabled, there will not be any model or
serial number present when listing drives during choosing a source
device. After choosing the device, it will perform the identify
command to gather data about only that device.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>PIO mode </b>– Use PIO instead of DMA.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Enable using ATA return to mark bad sectors</b> – Not available
in free version. This only works with ATA passthrough and Direct
modes. When a cluster read is bad, the ATA return data can include
the LBA of the first reported bad sector for the read. When this
option is enabled, the program will use this data to attempt to read
the indicated good data up to the bad sector, and then mark the
reported sector as bad and the rest of the chunk as non-trimmed.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Enable </b><b>read twice on timeout</b> – Not available in free
version. This only works with Direct modes that can utilize the soft
reset timeout. This option is meant to assist with slow responding
drives, where there is a background process that is causing reads to
be slow. When enabled and the soft reset timeout is exceeded when
reading, after the reset a second read attempt will be performed. The
second read attempt will use the Retry reset time as the soft reset
time for the this second read attempt. The idea is that sometimes a
reset will help prevent the background process for a short time
allowing for faster reading, and setting a low soft reset time will
cause the reset, but without marking the read as failed.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Retry connecting on failure after relay power cycle</b> – Not
available in free version. If the device fails to identify after a
relay power cycle, enabling this option will cause a second attempt
to disconnect and reconnect the device. It will disconnect, wait for
the reset wait time, and then reconnect. This can help in some
circumstances.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Enable SCSI write to destination (for odd sector size)</b> –
PLEASE SEE THE NOTE IN THE IMPORTANT NOTES SECTION ABOUT USING THIS
OPTION! If the destination drive sector size is not a multiple of
512, you must enable this to be able to write to the drive. This
would be needed to clone a 520 byte per sector drive to another 520
byte per sector drive. You do not need to enable this to write to an
image file, it is only for writing to a drive.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Enable output sector size adjustment </b>– Enable the ability to
change the output sector size. You must close and reopen the Advanced
Settings for this change to take effect.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Output sector size adjustment</b> – This is used to convert odd
sector sizes such as 520 bytes per sector to 512 bytes per sector. A
positive value would mean that the output sector size would be
greater than the input sector size by the value, a negative value
would mean that the output sector size would be less than the input
sector size by the value. For example, to clone a 520 byte sector
drive to a 512 byte drive/image, the sector size would be 520 and the
value of this option would be -8.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Use button colors in bottom status bar </b>– This option will
turn on using colors on the bottom status bar. This does not work on
some newer systems, which is why it is now an option. The normal mode
of the status bar is a simple active / non-active to indicate status.
The colors look nicer and stand out more, if your system supports it.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="4" style="font-size: 14pt"><b>Timer Settings</b></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
All of these timer settings are only for Direct IDE and Direct AHCI
mode. They are also for Direct USB mode, but they work a bit
differently for that mode. They have no effect in passthough mode.
The general timer may, in some rare cases, have some sort of effect
in passthrough mode, but this program has no control over what, if
any, effect it has.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Initial busy wait time </b>– This is the amount of time in
milliseconds to wait for the drive to be ready when waiting to
attempt to perform a read. If this timer expires then a reset
procedure is initiated, and the read will be attempted after the
reset. This timer also affects the wait time per device when listing
the choices for the source device, although no reset is performed.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Busy wait time </b>– This is the amount of time in milliseconds
to wait for the drive to become ready when performing an identify
device command, usually after an error. If this timer expires then a
reset procedure is initiated.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Soft reset time</b> – This is the amount of time in milliseconds
to wait for a command to complete before initiating a reset
procedure. This is the main reset timer. When it expires a soft reset
will be initiated.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Hard reset time</b> – (AHCI only) This is the amount of time in
milliseconds to wait for the drive to become ready after attempting a
soft reset. When it expires, a hard reset is initiated. If this timer
is set to 0, the soft reset will be skipped and it will jump strait
to a hard reset. For Direct USB, this timer is the amount of wait
time for the device to become ready after a reset before the next
level of reset is attempted. If the reset is the last on the list,
then it would use the Reset timeout instead.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Reset timeout</b> – This is the amount of time in milliseconds
to wait for the drive to become ready after a reset attempt (in the
case of Direct USB, the last reset in the list). When it expires, the
action command will be performed. If this timer is set to 0, the hard
reset will be skipped and it will jump strait to the action command.
Note that on drives that do not respond to the soft or hard reset in
a timely manner, when this timer expires the action will be
performed. If you are not using a relay or command, the program will
stop with an error message. For this case, you will either need to
turn up this timer or the soft reset timer to a higher value to
prevent the program from stopping.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>General timeout </b>–  This is the amount of time in
milliseconds before giving up any attempt and returning with a major
error. You would normally set this higher then any of the other
timers. If you set a timer higher than this general timer, then that
timer’s action will not be performed.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Action for reset timeout</b> – The action performed when the
reset timer expires.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
– <b>Do nothing</b> – Do not perform any command, just return
with a major error.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
– <b>Activate primary relay</b><b> </b>– Activate the primary
relay board, which is chosen under the primary relay settings.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
– <b>Call command</b> – Call the command specified, and then
check if the drive has become ready. If the drive does not become
ready, it will return with a major error. If the command returns a
non-zero value, then cloning will stop with an error message.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
– <b>Test command </b>– Test the specified command.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Phase timers</b> – Soft reset timer settings for individual
phases. When enabled, the soft reset timers can be set for the
different phases. When disabled the normal soft reset time is used
for all phases.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Always wait for reset timers</b><b> timers</b> – When enabled in
Direct AHCI or IDE modes, this option will always wait for the next
reset time (either the hard reset time or the reset timeout) before
checking if the drive is ready. Checking if ready still uses the
reset time, so if the drive is not ready, it could wait for up to the
reset time again, making for twice the delay. This is meant for
drives that seem to be ready after a soft/hard reset, but are not
truly ready yet and need a delay before proceeding after the reset.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>USB reset choices</b> – The different USB resets available. Note
that these are performed in order if enabled.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
– <b>Enable USB bulk reset</b> – This is the standard reset for a
USB mass storage device. Disabling it here only disables this as the
first reset attempt. It will still be performed along with any of the
other resets if they are enabled. It is recommend to leave this
enabled.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
– <b>Enable USB soft reset</b> – This is only for ATA drives, and
will attempt to send a passthrough soft reset command to the drive.
This command may not be supported by the USB bridge. It is recommend
to leave this disabled, as the bulk reset would normally take care of
whatever reset is needed.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
– <b>Enable USB hard reset</b> – This is only for ATA drives, and
will attempt to send a passthrough hard reset command to the drive.
This command may not be supported by the USB bridge. It is recommend
to leave this disabled, as the bulk reset would normally take care of
whatever reset is needed.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
– <b>Enable USB port reset</b> – This performs a port reset, to
reset the USB communication to the device. It is recommend to leave
this enabled. If you find the need to perform power cycles on the
device, then you may wish to disable this to save time, as it can
double the reset time before the power cycle is performed.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="4" style="font-size: 14pt"><b>Primary Relay Settings</b></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Not available in free version. These are the settings for a primary
relay board for power cycling a disk drive. To use the primary relay
board, you must choose it as an action in Advanced Settings and/or
Timer Settings. Note that when the relay board is activated, it will
display status messages in the console.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
For information about how to connect the relay board, visit the
following website link:</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<a href="http://www.hddsuperclone.com/sitev1/hddsuperclone/usbrelay">http://www.hddsuperclone.com/sitev1/hddsuperclone/</a><a href="http://www.hddsuperclone.com/sitev1/hddsuperclone/usbrelay">usbrelay</a></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The following relay boards can be controlled:</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
1) Generic USB HID red relay boards. To find these relays, search on
ebay for &quot;USB Relay Programmable Computer Control For Smart
Home&quot;. You may also be able to find them on Amazon. More
information about these relay boards can be found at the following
links:</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<a href="http://vusb.wikidot.com/project:driver-less-usb-relays-hid-interface">http://vusb.wikidot.com/project:driver-less-usb-relays-hid-interface</a></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<a href="https://github.com/pavel-a/usb-relay-hid">https://github.com/pavel-a/usb-relay-hid</a></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Current relay board</b> – This displays the currently selected
USB relay board, if one was chosen.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Relay board settings</b> – These settings control how the relays
act. There are settings for up to 8 relays. Any relay value higher
than the number of relays the board actually has will have no effect.
When the board is activated, the selected relays under <b>Activation
condition</b> will energize, and relays not selected will be
de-energized. When the board is no longer activated (deactivated),
the relays chosen under <b>Deactivation condition</b> will be
energized, and relays not selected will be de-energized. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Activation time (sec)</b> – This is the amount of time in
seconds the relays will be energized under the Activation condition.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Post activation delay time (sec)</b> – This is the amount of
time in seconds after the relays have been deactivated before
attempting to resume the recovery. This is to give the disk drive
time to spin back up and become ready before trying to read from it
again.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Test relay operation</b> – Clicking this will cycle the relay
board, complete with timer settings.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Activate (Power Off)</b> – Manually activate the relay to the
power off condition.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Deactivate (Power On)</b><b> </b> – Manually deactivate the
relay to the power on condition.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="4" style="font-size: 14pt"><b>Choose Primary Relay Board</b></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Not available in free version. This will list all supported relays
that are currently connected to the computer, and allow choosing the
desired relay.</p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><img src="data:" hspace="12"></p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="Understanding the Display"></a><font size="5" style="font-size: 20pt">Understanding
the Display</font></h2>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-bottom: 0in; line-height: 100%"><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Project</b> is the project log file for the current recovery.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Destination</b> is the destination drive or image file where the
data is to be recovered to. This can also be set to “NULL (No
destination)”, in which case the data is not written anywhere.</p>
<p style="margin-bottom: 0in; line-height: 100%"><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Source</b> is the source drive to be recovered. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Total LBA</b> is the reported size of the source device in LBA.
<b>LBA to read</b> is the selected read size. By default it will be
the same as the total size, unless you selected a different size in
the options. <b>Domain size</b> is the LBA to read as adjusted by the
domain. Any data that is not in the domain will stay marked as
non-tried in the display. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Current p</b><b>osition</b> is the current position in LBA. 
<b>Current s</b><b>tatus</b> shows the current copy phase operation. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>C</b><b>lone/Driver Mode</b> shows if the mode is the normal Clone
mode, or shows which driver mode is currently being used if in Driver
mode.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Run time</b> format is days:hours:minutes:seconds. <b>Remaining
</b><b>time</b> is the estimated time remaining and has the same
format as the run time. This estimate is based on about the last 5
minutes of run time. There is no way to get this totally accurate, it
is a calculated best guess. If there are a lot of errors or a large
bad area then this does not start to get accurate until it is several
minutes into the trimming phase. <b>Current</b><b> / Recent / Longest
read time</b> is the highest read time in milliseconds, the first
number being the value since the last display update, the second
number is the value within the last 256 display updates, the third
number is the value since the start of the operation.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Current r</b><b>ate</b> is the successful read rate since the last
display update. <b>Recent </b><b>rate</b> is the average rate of
about the last 5 minutes. <b>Total </b><b>rate</b> is the average
rate since the operation was started. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Filled</b> is the numer of LBA that have been filled using fill
mode, and also when using erase destination mode. <b>Retried</b> is
the number of LBA that have been retried in the current operation.
<b>Remaining retry passes</b> is the number of remaining retry
passes.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Last read size</b> (takes the place of <b>Filled </b>in virtual
device driver mode) will contain three numbers. The first number is
the small chunk size that was requested, the second number is the
large chunk size that was requested, and the third number is the size
of the actual device read. This is to be able to see the read sizes
when in virtual driver mode to know if a mode change may be needed.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Finished</b>, <b>N</b><b>on-tried</b>, <b>N</b><b>on-trimmed</b>,
<b>N</b><b>on-divided</b>, <b>N</b><b>on-scraped</b>, and <b>B</b><b>ad</b>
show the number of LBA that exist for each status type, along with
the size in GB. It also shows the number of separate areas for each,
and the percentage of each based on the LBA to read. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Skips</b> is the total number of times the program has skipped
since the program was started. <b>Skip r</b><b>uns</b> is how many
skip runs have happened since the program was started. If you see the
run count growing, it likely means there is a weak/damaged head. <b>Skip
r</b><b>esets</b> is the number of times the skipping was reset due
to exceeding a limit of 64 skips in a run. <i><b>Under normal
circumstances the reset count should remain at zero</b></i>. If it is
greater than zero it is an indication of a problem with either too
large of an initial skip size, too small of an initial skip size, a
“slow responding” condition, or it is not reading much if any
data, and you may need to adjust the skip size and/or skip threshold
to handle a special condition. <b>Base s</b><b>kip size</b> is the
current base skip size. This can grow if the head skipping algorithm
is triggered. <b>Last r</b><b>un size</b> is the size of the last
skip run, which can be useful in estimating the read size of the
head. <b>S</b><b>low skips</b> is the number of skips that were due
to slow reads and not errors.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Data preview</b> is a sample of data from the last good read since
the last display update. If there was not a successful read since the
last display update, then this will be all zeros. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The bottom status bar contains information from the ATA status and
error registers. In SCSI passthrough mode it will be grayed out. In
ATA passthrough mode it may (if supported by the OS) indicate the
last reported status returned before the display update, and is not
(and cannot be) a real time display of the registers. When using the
Direct modes it shows real time results that are updated about every
half second. The left side of the status bar is the status register,
and the right side is the error register. The following are brief
descriptions of those fields. Please note that some are depreciated
and may or may not used by modern drives, and may have different
meanings for different commands and versions of the ATA standard. If
you want to know more, do an internet search for “ATA status error
register” or “ATA Command Set”.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Status register:</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
BSY - (Busy) the device is busy doing something.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
DRDY - (Device Ready) the device is ready to accept commands.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
DF - (Device Fault) the device is in a fault condition.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
DSC - (Device Seek Complete) heads are settled over a track, now
deferred write error.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
DRQ - (Data Request) indicates that the device is ready to transfer
data.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
CORR - (Corrected Data) now alignment error.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
IDX - (Index) now sense data available.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
ERR - (Error) indicates that an error occurred during execution of
the previous command.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Error register:</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
BBK -  (Bad Block Detected) now interface CRC error.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
UNC - (Uncorrectable Data Error) indicates an uncorrectable data
error has been encountered.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
MC - (Media Changed) now obsolete.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
IDNF - (ID Not Found) indicates the requested sector's ID field could
not be found.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
MCR - (Media Change Requested) now obsolete.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
ABRT- (Aborted Command) indicates the requested command has been
aborted.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
TKONF - (Track 0 Not Found) now indicates end of media.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
AMNF - (Address Mark Not Found) now command timeout, or other
possible definitions.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="Analyze Results Explained"></a><font size="5" style="font-size: 20pt">Analyze
Results Explained</font></h2>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
To analyze a device, you must choose a project, source, and
destination. The destination can be NULL if you do not plan on using
the data read to continue with recovery of the device. Any data read
from the source during analyzing will be copied to the destination
just as if you are cloning, and included in the progress log. With
the regular analyze, the first stage will last between 15 seconds and
2 minutes, and will be divided into 8 evenly spaced zones spanning
the entire device. The second stage is a variance timing test, and
will last 15 seconds. With the extended analyze, the first stage will
take between 2 minutes and 16 minutes, and be divided into 32 zones.
The second stage will last 1 minute. The results are then displayed
in a popup box, along with being printed to the console, and included
in the progress log file. The reason to perform the shorter regular
analyze first is so that if the drive has a bad condition, you can
choose not to continue so as not to cause any further possible
damage. If it looks good enough to continue, then you should run the
extended analyze to get the best results. Note that the extended
analyze is not available in the free version.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The analyzing process attempts to perform an even number of reads per
zone in levels, up to a predetermined limit. If it detects it would
not be able to complete the next level, it will not attempt it. Even
so, the results may not always have an even number of reads per zone,
depending on how the drive was responding.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The first three lines indicate the percentage of <span style="font-weight: normal">G</span><span style="font-weight: normal">ood,
</span><span style="font-weight: normal">B</span><span style="font-weight: normal">ad,
and </span><span style="font-weight: normal">S</span><span style="font-weight: normal">low
reads.</span></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The next three lines are a percentage indication of possible issues.
The <b>Slow Responding Firmware Issue</b> is the chance that there is
an issue that causes good reads to be slow due to a firmware
background operation. It is very difficult to know this for sure, so
as a general idea if it is below 50% then it is not likely, if it is
between 50-100% then it is possible or likely, and if it is over 100%
then it is very likely. The <b>P</b><b>artial </b><b>A</b><b>ccess
</b><b>I</b><b>ssue</b> is the chance that there is a problem with
reads past a certain point, likely caused by a firmware translator
issue. This number can also go above 100% because of how it is
calculated, but generally any value is a possible indication of this
issue. The <b>Bad Or Weak Head </b>is the chance of exactly that.
This value does not go over 100%, and is an indication of how
widespread the damage is across the drive.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The next section is the variance timing of reading the same sectors
over and over many times. The sectors read are determined by the
fasted reads for each zone when analyzing the device. The number in
parentheses is the total number of reads performed during the
variance test. The data is presented in a low/high format. The low
value is the lowest time in milliseconds it took to read, and the
high value is the highest time it took to read. This is designed to
give a possible indication of any sort of slow responding issue. If
you see an extreme variance between any of the low and high values,
it would be an indication that something caused the read speed to be
much different.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The last section gives information about the reads divided into
zones. The first line is a total of all the zones, then the following
lines are for the individual zones. The total is the total number of
read attempts. Good is how many reads were successful. Bad is how
many reads failed (the number in parentheses is how many of those
failed reads were from a soft reset timeout). Slow is how many reads
were slow (based on the Skip Threshold). Low is the time in
milliseconds of the fastest read. High is the time of the slowest
read. Average is the average time of all the reads.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="Skip Resets"></a><font size="5" style="font-size: 20pt">Skip
Resets</font></h2>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
During phases 1 and 2, there is an advanced self learning skipping
algorithm applied. But the algorithm does have some limitations. When
those limitations are exceeded, a skip reset will occur. This section
describes the possible causes of the skip reset, and what can be
done.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
When a skip reset has occurred, along with changing the settings to
prevent a future reset, it is recommended to perform a Reset Current
Status operation in the Tools menu. This will clear the skipping data
and set it to start at the beginning again.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The first cause of a skip reset is that the skip size is set to low
or too high. The skipping is based on the read size per head, and
that can vary between drives. The default skip size is 4096 LBA which
handles many cases. The following table gives the range of read size
per head that the algorithm can handle with a given skip size.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
skip size: 128 good from 1MB to 300MB</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
skip size: 256 good from 2MB to 500MB</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
skip size: 512 good from 5MB to 900MB</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
skip size: 1024 good from 9MB to 1700MB</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
skip size: 2048 good from 17MB to 3300MB</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
skip size: 4096 good from 35MB to 6500MB</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
skip size: 8192 good from 70MB to 13000MB</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
skip size: 16384 good from 150MB to 26000MB</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
skip size: 32768 good from 300MB to 50000MB</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Samsung drives will commonly have a very high read size per head
compared to other drives, and may require setting the skip size
higher, maybe 16384. On rare occasion you may find a drive that has a
very small read size per head. I have seen one ddrescue log where the
read size per head appeared to be about 1MB.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The second most likely cause for a skip reset is that the skipping is
happening due to slow reads caused by some sort of slow responding
issue. Western Digital drives are commonly known for having a slow
responding issue, and also occasionally some Seagates. If a skip
reset happens and you notice that the slow skip count is high, then
this may likely be the cause. The best solution is to obviously fix
the slow responding issue. But if this is not possible, you can
increase the Skip Threshold time to a high value such as 60000.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
A third cause of skip resets is that the drive is not reading any
data at all, and is returning error/abort for all reads. In this case
the skip reset will be triggered very quickly, almost instantly after
you start the cloning process. You would also get this same result if
you selected ATA passthrough for a USB connected drive, as USB drives
require SCSI passthrough.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
If you are unable to determine the cause of the skip resets and which
to continue the recovery without being stopped for the skip resets,
you can disable Phase 1 and Phase 2 in the clone settings. If you are
getting skip resets, those phases are not going to be productive
anyway. Another alternative to dealing with skip resets is to set the
max skip size to less or equal to 16 times the min skip size. This
can be an effective way of still using phase 1 and 2 when getting
skip resets, but the skip reset will not stop the program in this
case. This is meant mostly for solid state drives and flash drives,
where the head skipping algorithm does not work well, and the program
should not stop just for a skip reset.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="Relay Operation"></a><font size="5" style="font-size: 20pt">Relay
Operation</font></h2>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
This section explains how to setup and use a relay for power cycling
the device.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
For information about what relay to purchase, and how to wire it up,
please see the instructions on the website here:
<a href="http://www.hddsuperclone.com/sitev1/hddsuperclone/usbrelay">http://www.hddsuperclone.com/sitev1/hddsuperclone/usbrelay</a></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Once you have the relay ready, connect it to the computer via USB,
and also connect it to the device, then start HDDSuperClone. Choose
the project, mode, source, destination, and any other desired
settings as normal. Then under the <b>Settings</b> menu, select
<b>Choose Primary Relay Board</b>. This will list all supported
relays that are currently connected to the computer, and allow you to
select the desired relay. This will only list connected relays that
are directly supported in HDDSuperClone.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Once you have selected the relay, under the <b>Settings</b> menu,
select <b>Primary Relay Settings</b>. By default when the relay is
activated, it will energize all relays for the activation time, then
de-energize the relays, and wait for the post activation delay time
before resuming and attempting to reconnect to the device. You may
need to adjust the times for your device, the post activation delay
time needs to be long enough for the drive to become ready after
powering back on. It is recommended to use the <b>Test relay
operation</b> button with the drive connected to make sure it works
as expected. Changing the activation conditions of the relays is for
advanced users. Once you have the settings correct, click OK.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Now in <b>Setting</b> menu select <b>Advanced Settings</b>. Under
<b>Action to perform on major drive error</b>, choose <b>Activate
primary relay.</b> This will activate the relay board every time the
drive is locked up and not responding. Click OK to save the settings.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="Virtual Disk Device Driver Mode (for data extraction)"></a>
<font size="5" style="font-size: 20pt">Virtual Disk Device Driver
Mode (for data extraction)</font></h2>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
This section explains what the Virtual Disk Device Driver Mode (for
data extraction) is and how to use it.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="4" style="font-size: 14pt"><b>Important notes:</b></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; font-weight: normal; line-height: 100%">
Once you choose one of the virtual disk modes, it enables a domain
file, and will start with an empty domain. The domain is updated with
any attempts to read in the virtual modes. <b>A</b><b>ny future
attempts in Clone </b><b>M</b><b>ode will be limited to the domain.</b>
This allows targeting only the areas that were attempted during the
virtual mode operations. <b>To resume the ability to clone the whole
drive, choose to Clear Domain from the File menu.</b></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; font-weight: normal; line-height: 100%">
There is a checkbox setting on the main screen for Slow Driver, which
is set by default. <b>When the driver is in </b><b>slow</b><b> mode,
it </b><b>WILL</b><b> use more CPU, </b><b>it WILL cause small system
lockups that can last several seconds,</b><b> </b><b>and that
combination will make it slower</b><b>. </b><b>Plus the small lockups
will likely result in IO errors being returned instead of good data
for whatever read it was locked up on.</b> But the slow mode is meant
to help prevent a total system lockup which would require a reboot.
<b>It is </b><b>sometimes</b><b> best to use the s</b><b>low</b><b>
mode when first starting to work with the disk. It is </b><b>MANDATORY</b><b>
to use the </b><b>slow </b><b>mode when performing a </b><b>PARTPROBE</b><b>
command </b>(and if you choose to attempt to use testdisk, you might
also need to keep the driver in slow mode). The driver does not
normally need to be in slow mode when using a good third party
program such as R-Studio to access the virtual disk. <b>It is best to
try to turn the slow mode off if possible.</b> But if you end up with
a total system lockup, you will know that you will need to keep the
slow mode on during whatever circumstance caused the lockup. At this
time it is my belief that software that is using multi-threading to
access the disk is the main cause of the system lockups. The virtual
disk needs to only have single point access to be stable.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; font-weight: normal; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; font-weight: normal; line-height: 100%">
<b>Update on Linux kernel versions with the virtual disk driver:</b>
The virtual driver seems to work well with Linux kernel 3.13 (Ubuntu
14.04), which is where I have done most of the testing. Kernel 4.18
(Ubuntu 18.04.2) seems to be unusable with the virtual driver, and
just locks up no matter what. So somewhere between 3.13 and 4.18 some
changes were made that do not work well with the virtual driver. The
good news is that starting with kernel 5.0 (Ubuntu 18.04.3), and also
5.3 (Ubuntu 18.04.4), the virtual driver seems to work very well,
even better than back at 3.13. I was able to use TestDisk without it
locking up, and also a partprobe command did not lock up the system,
although the partprobe command itself locked up and did not return to
a command prompt, but the window could be closed, and the command
worked. So if you have lockups, check your kernel version with the
command uname -r.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The virtual disk device driver presents the recovery to the operating
system as a generic block device, which can be accessed like a normal
disk. The virtual disk cannot be written to (writes will fail), only
read from. Any data requested from the virtual disk will be read from
either the source or destination disk. If the data has been
previously read, it will come from the destination. If that data has
not been previously read, it will be read from the source, written to
the destination, and then passed on to the operating system. This
means that the same data is never requested from the source more than
once. This mode also creates a domain file, which is a domain of all
data that was requested. This allows targeting specific areas in the
cloning process.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
When you choose one of the virtual disk modes and click Start, the
program will create the block device and present it to the operating
system. At this time, the operating system tries to get the some
initial data from the disk about the partitions, but it is not yet in
a condition to report actual data. So it returns zeroed data to the
operating system until it is ready. This causes the OS to think the
drive is empty, and therefore it does not list the disk with any
partitions. In a way this is good, as it keeps the OS from trying to
read the disk. If you need the operating system to report the
partitions, you can use the partprobe command. Note that this command
will likely lock up the system for a short time, and the computer may
seem unresponsive. This is because of how the program is doing things
backwards to present a real drive as a virtual drive, and there is a
timeout in the driver that allows getting out of the lockup
condition. Be patient and wait several seconds, if not a few minutes
for it to complete. If it does not complete in a few minutes, then
the system is most likely locked up and will require a reboot.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
When you are in the driver mode and you click Stop, it removes the
virtual disk from the system. It is best to close any programs that
are accessing or have accessed the virtual disk before clicking on
Stop. Otherwise those programs could still try to access the virtual
disk after it is deleted, and could lockup or crash.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="4" style="font-size: 14pt"><b>Virtual Disk Modes:</b></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
There are 5 virtual modes to choose from, and they can be changed on
the fly. There is no skipping when using the virtual modes as it is
copying the data exclusively requested, so it does not use phases 1,
2, or 3. When using any mode greater than mode 1, not all data is
recovered at that time, and you would need to perform additional
steps to read the most data possible.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Virtual </b><b>Mode 1 </b>– This mode will use all available
phases (starting with phase 4) when reading from the source. If there
is a read error in the data chunk being requested, it will be
processed according to what phases are enabled in the clone settings.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Virtual </b><b>Mode 2</b> – This mode only uses phase 4, and
does not perform any further processing of a chunk if it failed to
read using phase 4.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Virtual </b><b>Mode 3 </b>– This mode is the same as mode 2,
except it will increase the read size (up to the cluster size) when
it detects sequential reads. This is actually similar to what the
operating system driver typically does. Some recovery software can
tend to read in small chunks which can cause slow reading. This
option can help with that, but it will cause some over reading of
unneeded data. It could also be potentially useful for drives
suffering from a “slow” condition, where many reads are slow and
reading larger chunks makes more sense. The advanced option Virtual
Disk minimum cluster size can be set for this mode so that there is a
minimum chunk read size to also help prevent small reads.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Virtual </b><b>Mode 4</b> – This mode only reads from the
destination, and does not read any data from the source. This mode
also does not require a source to be chosen. This can be useful if
you have either already cloned the disk, or performed enough
operations using the virtual driver that the needed data is likely
present on the destination.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>Virtual </b><b>Mode 5 </b>– This mode does not read any data at
all. It instead returns zeroed data (all zeros) with no error. This
mode is meant for more quickly creating a recovery domain. This
allows for creating a domain where the desired data resides, so that
it can be attempted in the cloning process. It can be better to use
the cloning process so that reads are sequential, as when attempting
data extraction the reads will jump around causing much head
movement.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
When reading data from the virtual disk in modes 1 through 4, any
data that was unable to be read will return a read error to the
operation system by default. This is the way for 3<sup>rd</sup> party
data recovery software to determine which files are damaged. This
reaction can be changed in the advanced settings. It can be changed
to either return zero filled data, or mark filled data. Depending on
the software you are using to attempt data extraction, you may need
to change this setting to achieve the desired effect.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="4" style="font-size: 14pt"><b>Changing the virtual disk
logical sector size:</b></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Normally the logical sector size for the virtual disk would be the
same as the logical sector size of the source. But there are cases
where you convert a USB disk to SATA, and while as USB it reported
the logical sector size as 4096, as SATA it reports the size as 512.
This can make it difficult to perform data extraction. The solution
is to use the advanced settings option <b>Use physical sector size as
logical for virtual disk</b>. This will use the physical sector size
as the logical sector size when presenting the virtual disk to the
operating system. The physical sector size is determined by the <b>Block
size</b> setting in the Clone settings. The block size is the number
of logical sectors per physical sector. Some drives may get the
physical sector size from the identify results, but some may not so
they would need the setting changed manually. For example, in the
Clone settings the sector size would be 512 (this is the typical
logical sector size), and to set the physical size to 4096, you would
set the block size to 8 (8 * 512 = 4096).</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="4" style="font-size: 14pt"><b>Basic use concept:</b></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Start the HDDSuperClone process in virtual mode 1. Then open whatever
3<sup>rd</sup> party recovery software you wish to use. You can
optionally try to access the files through the OS itself it you wish
(you must run the partprobe command first for it to list partitions,
and there may be stability issues, possibly needing to use the slow
driver). You should turn off the “slow driver” whenever possible,
or there will be unwanted errors and lockups.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
There are a few commercial recovery programs that have Linux
versions. I have found that DMDE works best with the virtual driver
as it is already designed to work with bad sectors, as long as you
set the proper settings, which will be explained in the videos
referenced below. R-Studio has also worked okay in my testing, but it
does not perform as well with the virtual driver as DMDE, and can
miss getting data. I tried UFS Explorer and the newer Recovery
Explorer, but they both failed to find a partition on a bad drive
right away, and wanted to scan the whole drive. So I can’t
recommend them to use with the virtual driver. There is also the open
source and free TestDisk, but in all my testing TestDisk kept
crashing and just did not work well. You do not want to use anything
like PhotoRec that scans the whole disk for files, that is something
you would use after cloning the entire device. My recommendation: Use
DMDE. You can try the free version with the limitations, but I
recommend you get the proper paid version (if you are using it to
recover customer data, then you need the pro version to meet the
licensing requirements). Just make sure to activate it in Linux and
not Windows, as a license for Windows will not work on Linux!</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Use the 3<sup>rd</sup> party software to connect to /dev/sdv (the
default name for the virtual drive created by HDDSuperClone). Extract
the desired data with the software, during which time the data will
also be copied from the source to the destination. Note that if the
software is unable to detect partitions and files, then you will need
to perform a regular clone and then likely a raw recovery search on
the clone. Data extraction with the virtual driver is not possible if
the file table is missing or badly damaged.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="4" style="font-size: 14pt"><b>Examples for using the
virtual disk:</b></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Please refer to the Video Examples section of the website for further
help in using the Virtual Disk Driver.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<a href="http://www.hddsuperclone.com/sitev1/hddsuperclone/videos">http://www.hddsuperclone.com/sitev1/hddsuperclone/videos</a></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><img src="data:" hspace="12"></p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="Progress Log Structure"></a><font size="5" style="font-size: 20pt">Progress
Log Structure</font></h2>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
All of the lines that begin with the character &quot;#&quot; are
comment lines. Some of these lines are informational, and some
contain configuration data. You should not alter any of these lines.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Any line that does not start with &quot;#&quot; is a data line. The
data in the data lines is in hexadecimal format. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The first data line contains the current position in LBA, and current
status. The possible status types are as follows: <br>0x0 = Copy
phase 1 <br>0x2 = Copy phase 2 <br>0x6 = Copy phase 3 <br>0x8 = Copy
phase 4 <br>0x10 = Trimming <br>0x20 = Dividing 1 <br>0x22 = Dividing
2 <br>0x30 = Scraping <br>0x40 = Retrying <br>0x7f = Finished 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The rest of the data lines contain the current progress status of the
recovery. There are three basic columns, and two additional status
information columns. Each line contains information for a block. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The first column is the starting LBA of the block, and the second
column is the size in LBA of the block. The third column is the
status of the block. The possible status types are as follows: <br>0x0
= Non-tried <br>0x10 = Non-trimmed <br>0x20 = Non-divided <br>0x30 =
Non-scraped <br>0x40 = Bad <br>0x7f = Finished 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
In the event that the Mark Bad Head option is checked, these values
will have 0x80 added to them to indicate the bad head.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The fourth column may contain some additional information about two
separate items, and is three bytes wide (1 word and 1 byte). The low
order byte contains skipping information used by the program during
the first two copy phases to adjust the head skipping algorithm.
Forward skipping (phase 1) values begin with 0x80 and go up to 0xbf.
Reverse skipping (phase 2) values begin with 0xc0 and go up to 0xff.
These values indicate the size of skip runs. The beginning of the
skip run will start with the low value and increase.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The high order word of the forth column contains information about
other errors or conditions. In Generic mode a value of 1 indicates a
read error, and any other value other than 0 indicates an error
accessing the device. With Passthrough an error value other than 0
indicates that some other error happened such as a device fault or a
host adapter error. The following are values for the direct modes.
All values are in hex. Note that the low nibble is referenced as “x”
as that part of the value can vary and the explanation is not for the
end user.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
2x – The device did not come ready, either busy or drq</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
3x – Soft reset time reached and a reset was performed</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
4x – Soft reset time reached and drive was unresponsive after reset</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
5x – General timeout reached or other fault</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
6x – Timeout when getting the data</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
7x – Wrong drive returned (master/slave)</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
8x – Reset performed due to unwanted control changes</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
1xx and greater – Unwanted control data change info</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The fifth column will contain the return status of a bad read, along
with the read time. It is 4 bytes wide, a 3 byte value for read
status, and a 1 byte value for the read time. For the read status
(high 3 bytes), in SCSI passthrough mode this will be 3 bytes. In
order from left to right (high to low) those bytes are the sense-key,
asc, and ascq. For the other ATA modes this will be 2 bytes. In order
from left to right (high to low) those bytes are the status register,
and the error register. With passthrough if the value in this column
is a large number such as 0xffffff, it is an indication that there
was an error and no sense data was present. In ATA passthrough mode
there may not always be valid ATA return data. In this case the sense
data will be used instead. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The low order byte contains the read time. By default, the time is in
seconds, and there is no rounding. A value of 0 would indicate
between 0 and 0.999 seconds, a value of 1 would indicate between 1
and 1.999 seconds, and so on, up to 63 (0x3f) seconds. The two high
order bits are reserved for a possible future option for a higher
time resolution.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="520 Byte SAS Drives"></a><font size="5" style="font-size: 20pt">520
Byte SAS Drives</font></h2>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Please note that odd size sector SCSI/SAS drive support is limited. I
cannot guarantee that it will work in your case. Usually the reading
works, but someone did report a case where they could not read from
some drives. Writing is even more touchy, and may not work.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
If you do not follow the instructions below correctly, you could end
up trying to read/write the wrong sector size. You will get some sort
of error when that happens, please check your settings if it is not
working.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The Pro version of HDDSuperClone is capable of cloning/imaging 520
(and 528) bytes per sector SAS drives. These drives normally come
from proprietary RAID units. Normally, the data is only 512 bytes,
and the extra 8 bytes is extra data for the RAID, which means it is
typically not needed for data recovery. It is possible to make a full
image of a 520 byte drive with no setting changes. The sector size
should be detected automatically, and the image file will contain the
full sector data.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
To access any SAS drive in Linux, you must have a NON-RAID card
installed. A RAID card will not work, it must be NON-RAID so that
disks can be accessed as individual drives. An example of a NON-RAID
card is the SuperMicro AOC-SASLP-MV8. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
To clone a 520 byte drive to another 520 byte drive requires enabling
the advanced setting “Enable SCSI write to destination”. PLEASE
SEE THE NOTE IN THE IMPORTANT NOTES SECTION ABOUT USING THIS OPTION!
This must be done to write to any odd sector size drive, as the OS is
not capable of handling it. Note that from my testing, writing to an
odd sector size drive can be much slower than normal, but if it is
really slow, there may be an issue with writing, and the written data
should be verified to make sure it is valid. To help the write speed,
you can increase the cluster size, but do not go above 504! In my
testing, bad things happened with a cluster size greater than 504.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
To clone a 520 byte drive to a 512 byte drive (or image file)
requires changing the advanced setting “Output sector size
adjustment”. To clone from a 520 byte disk to a 512 byte disk, you
would change this setting to negative 8.  This will trim the last 8
bytes from the 520 byte sectors to achieve 512 bytes.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
To clone a 512 byte drive (or image file) back to a 520 byte drive
would require enabling the SCSI write, along with changing the output
sector size adjustment to positive 8. This will pad the 512 byte
sectors with 8 zeros to achieve 520 bytes.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
To clone a 520 byte image file back to a 520 byte drive would require
enabling the SCSI write, and also changing the sector size to 520
BEFORE choosing the source image file. If you choose the source image
before changing the sector size, you will get an error at the end of
the recovery that the source size changed, or maybe a write error.
This is because it thinks there are more sectors than there really
are.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
When the SCSI write is enabled, source and destination drives will
list as sgX devices instead of sdX. This may help with writing in
some cases. If things are not working, try making sure you are
enabling the SCSI write before choosing the destination. It may also
help with reading, the same applies, enable the SCSI write before
choosing the source disk if it won’t read.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
If you are unable to write to a 520 byte drive with HDDSuperClone,
there is always the possibility to use sg_dd from sg3_utils. But you
are on your own for figuring out how to do that. I can only provide a
starter command:</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font face="Source Code Pro">sg_dd if=/dev/sda of=/dev/sdb bs=520
blk_sgio=1</font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="USB Direct Mode"></a><font size="5" style="font-size: 20pt">USB
Direct Mode</font></h2>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The USB Direct mode is meant for USB only drives that cannot connect
directly as SATA. If you can connect the drive via SATA, then you
should do that. It is also meant for other storage devices such as
USB flash drives and NVMe drives. You would need the appropriate USB
adapter for the device. It is also meant for devices that have
difficulty with the standard SCSI passthrough mode.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Everything relies on the USB bridge, and how it reacts. For ATA
drives, the bridge may or may not support soft and hard resets. There
is a special bulk only reset for USB attached mass storage devices.
This reset should perform whatever reset is needed to get the device
ready for the next command. In the case of ATA drives, it should
perform either a soft or hard reset, if supported. In the case of
other types of devices, it should perform whatever type of reset is
supported. But you are completely at the mercy of the USB bridge of
the device/adapter as to what kind of reset it will perform.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
There is one issue that I cannot overcome with the direct USB mode.
The system calls to perform the operations only like to transfer 16KB
per packet, which results in extra overhead when transferring data.
This is most noticeable when you are maxing out the USB speed, such
as most USB2 devices. With USB3, if the device is only capable of
transferring at about half the USB3 capable speed, then you would not
notice any difference, but if you get into a fast NVMe drive, you
would start to notice it. The only workaround for the slower speed is
to turn up the cluster size. That will help, but still not get
absolute full speed due to the overhead. But then again, if you are
using this direct USB mode, then you already have a problem drive
that does not work well with the SCSI passthrough mode, so you are
not going for top speed.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
There are two main benefits of the direct USB mode. The first is that
it can perform the resets using timeouts. This can help by sending
resets if the device has not responded within a short time (same
concept as soft/hard resets for SATA drives). The second benefit is
for slow responding drives, you can specify a very large cluster size
up to 65528. The idea is that in between every read, the device is
performing some background operation, causing every read to take a
long time. By increasing the cluster size to a large value, you get
much more data per read, thus increasing the overall read speed. I
have very limited resources to test with, but overall this seems to
work. The only issue would be if the device did not like to transfer
that much data at once, which would hopefully result in an error so
you don’t think it succeeded.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The source drive will be listed by how the USB part of the device
(the USB bridge) identifies itself. So you will not see the normal
name of the drive in the source listing. There will also be two sets
of numbers preceding the ID. The first set is the buss:device number
which is given by the computer, the second set is the
vendor-id:product-id of the device. The best way to identify the
desired drive is to list the sources at first without the device
connected, and then again with the device connected. This will allow
you to see which one to choose as the source. It is not recommended
to have two of the same make and model devices connected to the
computer at the same time, as this makes it difficult to determine
which should be the source. Once the device is chosen, it will get
the SCSI inquiry data (and ATA data if applicable) to get the model
information, and that will be displayed in the GUI interface as the
source information. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
NOTE: When working with devices such as SD card readers, it will only
list one device, but there will likely be multiple logical units (one
for each different card slot). If multiple units are detected, a pop
up window will appear after choosing the source asking which logical
unit number to use. The only way to find the correct one is trial and
error. Also, my experience with card readers has shown a great amount
of variation in whether or not they work with the direct USB mode,
and even whether or not they work with certain cards.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
IMPORTANT: If you do need to have another similar (same
vendor-id:product-id) USB drive connected, such as you are trying to
clone the source to another similar USB drive, then it is important
to connect the destination first, and then connect the source. It is
a good idea to list (but don’t choose) possible source drives after
connecting the destination, and make note of the first numbers
(buss:device) of the destination. Then connect the source and list
the drives again. If is has the same buss number, the source will
list above the destination with a higher device number, which is what
you want for similar drives. If it has a different buss number, then
it is okay, but otherwise the source should have a higher device
number than the destination. Failure to do so could result in the
destination being chosen as the source after a disconnection or power
cycle.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
When you choose the source drive in direct USB mode, the kernel
driver is detached from the device, meaning it will disappear from
the OS as any sort of /dev/sdX device. The program takes full control
of the device, however if the device is power cycled or otherwise
physically detached and reattached (USB connector unplugged and
plugged back in), it will reappear to the OS, until such time as the
program takes it back. To completely keep the OS from accessing the
device, you can disable the USB mass storage driver in the Drives
settings. This will prevent the OS from accessing any USB attached
mass storage device, until such time as the driver is restored. This
can help prevent the OS from causing the device to lock up, in the
event that it is that unstable. The downside to this is that you
can’t use any other USB storage devices while the driver is
disabled.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Disabling the USB mass storage driver performs the following actions:</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><font face="Source Code Pro">cp -n /lib/modules/$(uname
-r)/kernel/drivers/usb/storage/usb-storage.ko
/root/usb-storage.ko.original</font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font face="Source Code Pro">cp -f /lib/modules/$(uname
-r)/kernel/drivers/usb/storage/usb-storage.ko
/root/usb-storage.ko.backup</font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font face="Source Code Pro">mv -fv /lib/modules/$(uname
-r)/kernel/drivers/usb/storage/usb-storage.ko /root/usb-storage.ko</font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Restoring the USB mass storage driver performs the following action:</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font face="Source Code Pro">mv -fv /root/usb-storage.ko
/lib/modules/$(uname -r)/kernel/drivers/usb/storage/usb-storage.ko</font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
If you have already disabled or restored the driver, then performing
the action again will result in a failure, as the file has already
been moved.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The timer settings work a bit different. The initial busy wait time
is used for the initial inquiry/identify command when choosing the
device, and all read capacity commands, including when checking to
see if the device has become ready again after an error. The busy
wait time is used for the inquiry/identify command during operation
when checking to see if the device has become ready again after an
error. The soft reset time is still the main timeout to start the
reset sequence if the device has not responded, this is the one you
would change to adjust your timeout. The hard reset time is the
timeout while waiting for the device to become ready after each reset
type in the reset sequence, before moving on to the next reset type.
You should not set this too low, I would recommend not going below
500ms. The reset timeout is used as the timeout for the last reset
type in the sequence, to wait for the drive to become ready before
going to the reset action.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
There are 4 reset types. The first is the standard USB bulk only
reset. This is the main reset for USB mass storage devices to tell
the device to become ready for the next command. This should perform
whatever reset the USB bridge is capable of for the device. It is
recommend to leave this enabled as the first reset. Disabling it only
disables it as the first reset, it is still used after every other
reset type as it is the mandatory reset needed for USB mass storage
devices. The second and third resets are passthrough ATA soft and
hard resets. They are only for ATA drives, and may or may not be
supported by the bridge. It is recommend to leave these disabled,
they are only here in the event of some rare case where they work
better than the initial bulk reset. The last reset is the port reset,
which will reset the USB communication with the device. When this
happens, the OS may temporarily try to access the device again before
it is reclaimed by the program.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
I don’t have any USB only devices that have any errors on them, so
all of my testing has been with USB adapters (the same thing I tell
you not to use). So how it reacts with any particular device or drive
is up to you to find out.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
There are currently some functions that will output some data to the
console for this mode. Some of this is meant to be console messages,
and some is for debugging purposes. Don’t read too much into what
you see in the console. I will work on cleaning it up in the future.
I just don’t have the time right now.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="Rebuild Assist"></a><a name="USB Direct Mode1"></a>
<font size="5" style="font-size: 20pt">Rebuild Assist</font></h2>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Rebuild Assist only works in Direct AHCI mode.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The Rebuild Assist Feature Set is an optional feature of the newer
ATA standard. Its purpose is designed to help with rebuilding a RAID
disk array when one disk is failing. When using the Rebuild Assist
feature on a drive that supports it, the drive will perform a quick
self scan to see if there are any bad read elements (heads). If it
finds a bad head, it will mark it as such, which this documentation
is calling “disabled”. When trying to read from the bad head, it
will report the LBA of the next good head, allowing skipping out of
the bad head very rapidly. One other benefit of the Rebuilt Assist
feature is that when enabled, it is supposed to minimize background
activities. To find out if the Rebuild Assist feature is available on
the drive, check the identify results after choosing the drive.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
When Rebuild Assist is enabled, every time you “Connect” to the
drive, it will enable the Rebuild Assist on the drive, and provide
terminal output indicating what heads are enabled or disabled. During
the Rebuild Assist phase, if the drive reports a predicted bad area
(bad head or bad spot), you will see terminal output indicating a
rebuild assist skip. When there is a rebuild assist skip, that area
is marked as a bad head in the progress log. All other phases do not
perform any skipping or marking based on the rebuild assist data.
Choosing not to read the bad head in the first run will allow getting
the most good data from the good heads first. Then a second run can
be made to try to read any data possible from the bad head.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The proper way to use the Rebuild Assist on a drive that is capable
is as follows.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
1. Enable Rebuild Assist in the Advanced settings.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
2. Disable Read Bad Head in the Clone settings.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
3. Make sure the Rebuild Assist phase is checked in the Clone
settings (it is checked by default).</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
4. Perform the recovery until it is finished.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
5. If there are no Non-Tried blocks left indicating no rebuild assist
skips., then the recovery is done as normal. If there are Non-Tried
block left, continue with the next steps.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
6. Enable Read Bad Head in the Clone settings.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
7. Make sure the Rebuild Assist phase is unchecked in the Clone
settings (it should have unchecked itself when the Rebuild Assist
phase completed previously).</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
8. Perform the recovery again until it is finished, or as finished as
desired, as it will be reading in the bad head at this time.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><br>
</p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="Tips and Tricks"></a><font size="5" style="font-size: 20pt">Tips
and Tricks</font></h2>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Here are a few tips and tricks to help you along. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
HDDSuperClone needs to be run as root. By doing so any files or
folders that it creates will be owned by root. This can make it
difficult to edit or delete files as a user (you will get permission
errors). The terminal command &quot;chmod&quot; will help you with
this. It is recommended that you read up on this command and learn
how to use it. I try to do my best in the software to change
permissions of any output files so that you shouldn’t need to, but
it is good to know how to use this command anyway.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
There may be times when it would be nice to log all screen output to
a file. Someone just recently pointed me to the &quot;script&quot;
function. If you type &quot;script –help&quot; on the command line
it will show the possible options. By default it will save the log to
the file &quot;typescript&quot;. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The following example would probably be the best way to use the
function. This will log all screen output for that run of
hddsuperclone to the file named hddsuperclone.log, and stop logging
when hddsuperclone exits. If the file exists it will be overwritten. 
</p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">script
-c &quot;sudo hddsuperclone&quot; hddsuperclone.log</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
HDDSuperClone can be run from a live CD. When running from a live CD
it runs in ram, and all data is lost when you reboot! You are
responsible for making sure that you copy any data you wish to keep
to an external drive when running from a live CD. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
In the advanced and timer settings, commands can be run that are
meant to run external relays of your choice. These are shell
commands, just as if you were typing a command in the terminal.
Commands can be separated by a semicolon. For instance, if you had a
command to remove power from a drvie, and another command to power
on, and you wanted a 5 second delay between the commands, and also
wanted a 20 second delay after powering back on to allow time for the
drive to spin up and become ready, your command may look something
like this:</p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">relayoff
; sleep 5; relayon ; sleep 20</font></font></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><img src="data:" hspace="12"></p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="Direct IO Restrictions"></a><font size="5" style="font-size: 20pt">Direct
IO Restrictions</font></h2>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
****** Note that direct IO is limited to IDE and PIO mode in the FREE
version. ****** 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
This program has two modes, passthrough and direct IO (either IDE or
AHCI). Passthrough expects the drive is recognized by the Linux OS.
When using passthrough you are using the Linux driver, so the driver
will be aware of the activity and there should be no conflicts.
However, if you choose to use direct IO mode, you are bypassing all
Linux OS drivers! This could lead to conflicts, and undesired results
if the drive was visible to the OS. HDDSuperClone will not let you
select a drive from the menu that is visible to the OS. You must
follow the method described in the section on how to hide a drive
from the OS. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
In IDE mode it is also possible to work with a drive on the same
controller as another (possibly a CD/DVD drive you are booting from).
This is an extremely bad idea! HDDSuperClone will not let you choose
a drive if it thinks there is another drive on the same controller.
At this time CD/DVD drives are not listed by model and serial, but
will show up as patapi device. So if you see another device that has
the same “ata” number, then there is another device on the same
controller. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Also with IDE, if the device is a slave (device select is 1), there
may be unexpected results with return status in the event of an
error, or other unknown issues. HDDSuperClone will not let you choose
a drive unless it is a master on the controller. 
</p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><img src="data:" hspace="12"></p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="How to Hide a Drive from the OS"></a><font size="5" style="font-size: 20pt">How
to Hide a Drive from the OS</font></h2>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
When using direct IDE mode (–direct) or direct AHCI mode (–ahci),
the drive must be hidden from the OS for proper operation. The method
below requires the Linux kernel to be 3.13 or newer. Ubuntu 14.04 has
kernel 3.13, so it or any newer version of Ubuntu should work. If you
are using a Linux distribution other than an Ubuntu flavor, you are
responsible for knowing the kernel version. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Note that when using direct IDE mode with either actual IDE drives or
SATA drives with the bios set for IDE, if you boot the OS without the
drive plugged in / powered up and then connect it after booting, then
Linux will not see it. This is an alternative method that seems to
work the same, but it is still recommended to hide the drive. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Please note that when working with SATA drives and you want to use
the Direct AHCI mode (recommended), you must set your computer BIOS
to AHCI. If you have the BIOS set to IDE, no drives will be listed in
Direct AHCI mode. Also, it has been reported that there can be an
additional setting in BIOS for enabling or disabling the ability for
hot plugging. This HOT PLUG also needs to be enabled.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The first thing you need to know is that this is based on the
physical port that the drive is connected to. So once you disable
that port you can plug any drive into it and Linux will not see it
(this might not be entirely true for AHCI, as it would appear that
Linux can tell when a device is plugged in and sends at least one
command to it, likely an identify device command, but after that it
leaves it alone). This is true for both IDE and AHCI. However, when
working with SATA drives, switching between IDE and AHCI modes in the
BIOS will change the port numbers and you would need to adjust
accordingly. It is recommended to put the BIOS in AHCI mode when
working with SATA drives. I have also once experienced the port
numbers being different on one boot up, but it looked like something
did not load properly on that boot, and a reboot put things back to
normal. It is always a good idea that after the computer boots up,
connect a good drive to the port to make sure it is still hidden.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
The second thing you need is the number related to that port. To get
this you need to plug in a good drive to that port and run
HDDSuperClone. To get the port in the GUI, you must list the source
drives. To do this you must create a new project (you can deleted it
afterwards), then switch the mode to Direct AHCI, then select to
Choose Source Drive. You don’t need to choose a drive, you just
need to get it to list the drives with ports. Below is a sample
output:</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
 
</p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">1)
ata5.00 sda ST3120213AS 5LS3NJ70</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">2)
ata6.00 sdb Hitachi HDS723020BLA642 MN3220F30JKX9E</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">3)
ata7    --- no device</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">4)
ata8    --- no device</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">5)
ata9.00 sdg WDC WD2500BEAS-00URT0 WD-WXHY07017481</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">6)
ata10    --- no device</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Selection number 5 is the drive/port we wish to hide. You can see
that the OS sees it as /dev/sdg. What we want is the number after the
ata, which is 9.00. It is best to use only the main part of the port
number, which in this case is 9. You must use that number to add a
kernel boot option to grub, which in this case would be: 
</p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">libata.force=9:disable</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font size="4" style="font-size: 14pt"><b>IMPORTANT NOTE: Don’t
disable the primary hard drive you are booting from! If you do that
to your Linux installation it will not boot! You would then need to
either boot into recovery mode, or from a live CD if you can’t boot
into recovery mode, and restore the original GRUB configuration. </b></font>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>To add a boot parameter in an Ubuntu live CD: </b>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
To get to the grub menu on an Ubuntu live CD you need to press any
key as soon as the first small logo appears at the bottom of the
screen during boot up. If the language selection comes up select your
language and hit enter. Then hit F6 for Other Options, and when the
options box pops up hit ESC. Now you should see a line on the bottom
of the screen, just above the F-key options. Use the right arrow key
to get a cursor flashing and make sure you are at the end of that
line. Also make sure that Try Ubuntu without installing is
highlighted above (up and down arrow keys to change). Add the boot
parameter (such as libata.force=9:disable) to the end of the line,
and hit enter. Wait for it to boot up. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
It is possible to disable multiple ports. It is recommended that they
be in order from lowest to highest. For example, to disable ports
9.00 and 10.00 the parameter would look like this: 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
libata.force=9:disable,10:disable</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>To temporarily add a boot parameter to a kernel of a Linux
installation: </b>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
1) Start your system and wait for the GRUB menu to show (if you don’t
see a GRUB menu, press and hold the left Shift key right after
starting the system). 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
2) Now highlight the kernel you want to use, and press the e key. You
should be able to see and edit the commands associated with the
highlighted kernel. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
3) Go down to the line starting with linux and add your parameter
libata.force=9:disable to its end. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
4) Now press Ctrl + x to boot.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>To make this change permanent using HDDSuperClone for a Linux
installation: </b>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
1) In HDDSuperClone choose Disable Ports from the Drives menu.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
2) Enter the number(s) of the port(s) that you wish to disable/hide
as integers in the Set disabled ports field. If disabling multiple
ports, it is best to have them in order from lowest to highest. For
example, to disable ports 9.00 and 10.00, you would simply enter “9
10” without the quotes.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
3) Click the Update ports button. You should see the new GRUB
configuration information in the Updated ports section.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
4) If the data looks correct, click OK, and then confirm the
operation.\</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
5) Reboot the computer.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>To make this change permanent for a Linux installation – manual
method: </b>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
1) The first thing is to make a backup of the configuration. From a
terminal run the following commands:</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font face="Droid Sans Mono, sans-serif"><font size="3" style="font-size: 12pt">sudo
cp -n /boot/grub/grub.cfg /boot/grub/grub_hddsc_original_bakup.cfg</font></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font face="Droid Sans Mono, sans-serif"><font size="3" style="font-size: 12pt">sudo
cp -n /etc/default/grub /etc/default/grub_hddsc_original_bakup</font></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
2) From a terminal run: <font face="Droid Sans Mono, sans-serif"><font size="3" style="font-size: 12pt">sudo
gedit /etc/default/grub</font></font> and enter your password. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
3) Find the line starting with GRUB_CMDLINE_LINUX_DEFAULT and append
libata.force=9:disable to its end. For example:</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font face="Droid Sans Mono, sans-serif"><font size="2" style="font-size: 10pt"><font size="2" style="font-size: 11pt">GRUB_CMDLINE_LINUX_DEFAULT=&quot;quiet
splash libata.force=9:disable&quot;</font> </font></font>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
4) Save the file and close the editor. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
5) Finally, start a terminal and run: sudo update-grub to update
GRUB’s configuration file (you probably need to enter your
password). A reboot is required for it to take effect.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
On the next reboot, the kernel should be started with the boot
parameter. To permanently remove it, simply remove the parameter from
GRUB_CMDLINE_LINUX_DEFAULT and run sudo update-grub again. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>To restore the original startup configuration using HDDSuperClone:</b></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Note that this only works if there is a backup of the GRUB
configuration files. When using HDDSuperClone to disable the ports,
it will have made the backup, otherwise if you did it manually you
would have needed to complete the first step of making the backup
files.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
1) In HDDSuperClone choose Restore original startup port
configuration from the Drives menu.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
2) Confirm the operation.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
3) Reboot the computer.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>To restore the original startup configuration – manual emergency
method:</b></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Note that this only works if there is a backup of the GRUB
configuration files. When using HDDSuperClone to disable the ports,
it will have made the backup, otherwise if you did it manually you
would have needed to complete the first step of making the backup
files.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
1) Run the following commands in the terminal:</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font face="Droid Sans Mono, sans-serif"><font size="3" style="font-size: 12pt">sudo
cp -f /boot/grub/grub_hddsc_original_bakup.cfg /boot/grub/grub.cfg</font></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font face="Droid Sans Mono, sans-serif"><font size="3" style="font-size: 12pt">sudo
cp -f /etc/default/grub_hddsc_original_bakup /etc/default/grub</font></font></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
2) Reboot the computer.</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>After disabling the drive/port you should get a result like this:</b>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">1)
ata5.00 sda ST3120213AS 5LS3NJ70</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">2)
ata6.00 sdb Hitachi HDS723020BLA642 MN3220F30JKX9E</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">3)
ata7    --- no device</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">4)
ata8    --- no device</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">5)
ata9    --- WDC WD2500BEAS-00URT0 WD-WXHY07017481</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><font face="Courier New, serif"><font size="3" style="font-size: 12pt">6)
ata10    --- no device</font></font></p>
<p style="margin-bottom: 0in; line-height: 100%"><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Notice that there is no longer a decimal place after ata9, and there
are dashes in place of sdg, but the drive is seen by HDDSuperClone as
it is listed with model and serial. This drive/port is now hidden
from the OS, and you may use HDDSuperClone to access it in AHCI mode.
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<b>A</b><b>lternate method:</b></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
There is an alternative method that is not supported because it does
not totally prevent the kernel from accessing the device, which
leaves the possibility of causing a system lockup during cloning, or
causing the device to lock up when connected. There has not been any
long term testing of this method to verify how well it works. The
following command will remove a device until a reboot or the device
is disconnected and reconnected, where “sdx” is the device:</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<font face="Droid Sans Mono, sans-serif"><font size="3" style="font-size: 12pt">sudo
echo 1 &gt; /sys/block/sdx/device/delete</font></font></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><img src="data:" hspace="12"></p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><br>
</p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="Reporting Bugs"></a><font size="5" style="font-size: 20pt">Reporting
Bugs</font></h2>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
It is always possible that there are programming errors in this
software. It is also possible that there are errors and omissions in
this documentation. If you report them, they will get fixed. If you
don’t report them, they will just stay the way they are and will
not get fixed. 
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Report bugs to (<a href="mailto:sdcomputingservice@gmail.com">sdcomputingservice@gmail.com</a>)
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Please include the version number of hddsuperclone. Please include
any error messages, either as images or exact text, and console
output. Please include the progress log (project) file.</p>
<p class="western" style="margin-bottom: 0in; line-height: 100%"><img src="data:" hspace="12"></p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="HDDSuperTool Usage"></a><font size="5" style="font-size: 20pt">HDDSuperTool
Usage</font></h2>
<p class="western">HDDSuperTool is now built into HDDSuperClone. To
run HDDSuperTool, use the --tool option when starting HDDSuperClone.</p>
<dt class="western" style="margin-bottom: 0.2in"><samp>hddsuperclone
--tool</samp></dt><dt class="western" style="margin-bottom: 0.2in">
<samp><font size="4" style="font-size: 14pt"><b>Please note that all
command examples should be changed from hddsupertool to hddsuperclone
--tool</b></font></samp></dt><p class="western">
Hddsupertool must be run as root. If no arguments are present on the
command line, it will start the passthrough menu mode. 
</p>
<p class="western">If no drive is chosen, then all possible available
drives will be listed with model and serial numbers. In passthrough
mode, the drives will have the form of /dev/sdx, followed by model
and serial. If the drive is not ATA (did not respond to identify
device command), then the returned sense code will be shown instead
of model/serial. 
</p>
<p class="western">In direct mode, it will show driver and port
information. From left to right: Driver, PCI bus ID, Registers port,
Control port, Bus port, Device select, Model, Serial. If there was
not a proper response from the identify device command, then there
will be other information in place of the model and serial. &quot;Busy
or drq&quot; will be followed by the status and error register
values, and usually means there are no drives connected to that
controller. &quot;No drq&quot; will be followed by the status
register, lba mid, lba high, and either &quot;no device&quot; or
&quot;patapi device&quot;. Patapi indicates there is a CD/DVD drive
attached. At this time hddsupertool does not list CD/DVD drives by
model and serial. 
</p>
<p class="western">If you would like to see more information about
the ports on your system, try the command &quot;lspci -v&quot;. Note
that for SATA drives, the BIOS must be in IDE mode for direct IO to
work. AHCI mode is not supported for direct IO. 
</p>
<p class="western">Note that in direct IO mode, DMA access is not
available in the free version. 
</p>
<p class="western">The format for running hddsupertool is: 
</p>
<pre class="western" style="margin-bottom: 0.2in">hddsupertool
[<var>options</var>] <var>optional_variables</var></pre>
<p class="western">Where: 
</p>
<dt class="western" style="margin-bottom: 0.2in"><var>optional_variables</var>
</dt><dd class="western" style="margin-bottom: 0.2in">
Optional variables to be passed to the script from the command line.
Both number and string variables can be passed, with a total limit of
16 variables that can be passed. A number variable is passed using a
single equal sign, and a string variable is passed using a double
equal sign. There must be NO SPACES BETWEEN THE VARIABLE NAME, EQUALS
SIGN, AND VALUE. In the command line you also DO NOT START THE
VARIABLE NAME WITH &quot;$&quot; as you would inside the script.
Number variables will be treated as decimal unless preceeded by 0x in
which case they will be treated as hex. String variables that contain
text with spaces must be enclosed in quotes. The following example
will set a number variable &quot;number&quot; to a value of 255 and a
string variable &quot;string&quot; to a line of text. 
</dd><pre class="western" style="margin-bottom: 0.2in">
hddsupertool -t /dev/sda -f script.txt number=0xff string==&quot;line
of text&quot;</pre>
<p class="western">Hddsupertool supports the following options: 
</p>
<dt class="western">‘<samp>-h</samp>’ 
</dt><dt class="western" style="margin-bottom: 0.2in">
‘<samp>--help</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Print an informative help message describing the options and exit. 
</dd><dt class="western">
‘<samp>-v</samp>’ 
</dt><dt class="western" style="margin-bottom: 0.2in">
‘<samp>--version</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Print the version number and exit. 
</dd><dt class="western">
‘<samp>-V</samp>’ 
</dt><dt class="western" style="margin-bottom: 0.2in">
‘<samp>--verbose</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Show additional information. It is multi-level, meaning -V is level
1, -VV is level 2 and so on. 
</dd><dt class="western">
‘<samp>-c</samp>’ 
</dt><dt class="western" style="margin-bottom: 0.2in">
‘<samp>--check</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Perform the normal pre-check on the script, but do not execute it. 
</dd><dt class="western">
‘<samp>-C</samp>’ 
</dt><dt class="western" style="margin-bottom: 0.2in">
‘<samp>--command</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Use a command prompt to enter commands instead of reading from a
script. Note that some commands will not work on the command line,
and will report a generic error with the command (you can’t do
conditional statements, loops, or subroutines). When ran with this
option you will get a command prompt of &quot;&gt;&quot;. To exit the
command line mode type &quot;end&quot;. The following example
performs a simple identify device command and displays the raw
results. 
</dd><pre class="western">
hddsupertool /dev/sda --command</pre>
<pre class="western">hddsupertool 1.5-1.4 20160101</pre>
<pre class="western"><br>
</pre>
<pre class="western">&gt; buffersize 512</pre>
<pre class="western">&gt; setreadpio</pre>
<pre class="western">&gt; ata28cmd 0 0 0 0 0 0xa0 0xec</pre>
<pre class="western">&gt; printbuffer 0 0 512</pre>
<pre class="western">0: 7a 42 20 08 00 00 10 00 00 00 00 00 3f 00 00
00    zB .........?...</pre>
<pre class="western">10: 00 00 00 00 30 30 30 30 30 30 30 30 30 30 30
30    ....000000000000</pre>
<pre class="western">20: 30 30 30 30 30 30 31 30 00 00 40 00 00 00 30
30    00000010.....00</pre>
<pre class="western">30: 30 30 30 30 31 30 4d 56 61 77 65 72 56 20 72
69    000010MVawerV ri</pre>
<pre class="western">40: 75 74 6c 61 49 20 45 44 48 20 72 61 20 64 72
44    utlaI EDH ra drD</pre>
<pre class="western">50: 76 69 20 65 20 20 20 20 20 20 20 20 20 20 40
80    vi e          .</pre>
<pre class="western">60: 00 00 00 2f 00 00 00 02 00 00 07 00 20 08 10
00    .../........ ...</pre>
<pre class="western">70: 3f 00 00 fe 1f 00 10 01 00 00 20 00 00 00 07
00    ?......... .....</pre>
<pre class="western">80: 03 00 78 00 78 00 a0 00 78 00 00 00 00 00 00
00    ..x.x...x.......</pre>
<pre class="western">90: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00    ................</pre>
<pre class="western">a0: 1e 00 17 00 08 40 08 40 00 41 08 40 08 00 00
41    .......A....A</pre>
<pre class="western">b0: 07 04 00 00 00 00 fe 40 00 00 00 00 00 00 00
00    ...............</pre>
<pre class="western">c0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00    ................</pre>
<pre class="western">d0: 00 00 00 00 00 40 00 00 00 50 90 c2 9e fe 59
18    ........P....Y.</pre>
<pre class="western">e0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00    ................</pre>
<pre class="western">f0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00    ................</pre>
<pre class="western">100: 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00    ................</pre>
<pre class="western">110: 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00    ................</pre>
<pre class="western">120: 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00    ................</pre>
<pre class="western">130: 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00    ................</pre>
<pre class="western">140: 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00    ................</pre>
<pre class="western">150: 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00    ................</pre>
<pre class="western">160: 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00    ................</pre>
<pre class="western">170: 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00    ................</pre>
<pre class="western">180: 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00    ................</pre>
<pre class="western">190: 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00    ................</pre>
<pre class="western">1a0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00    ................</pre>
<pre class="western">1b0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00    ................</pre>
<pre class="western">1c0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00    ................</pre>
<pre class="western">1d0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00    ................</pre>
<pre class="western">1e0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00    ................</pre>
<pre class="western">1f0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00
a5 a4    ................</pre>
<pre class="western">&gt; end</pre>
<pre class="western"><br>
</pre>
<pre class="western">Total program run time = 80 seconds</pre>
<pre class="western" style="margin-bottom: 0.2in"><br><br>
</pre>
<dt class="western">‘<samp>-d</samp>’ 
</dt><dt class="western" style="margin-bottom: 0.2in">
‘<samp>--direct</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Enable and use direct IO mode. For SATA drives, the BIOS must be in
IDE mode for this to work. It will not work in AHCI mode. Note that
for some unknown reason, on some models of computers Linux may still
use the AHCI driver even with the BIOS set to IDE.</dd><dt class="western">
‘<samp>-</samp><samp>a</samp>’ 
</dt><dt class="western" style="margin-bottom: 0.2in">
‘<samp>--</samp><samp>ahci</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Enable and use direct IO AHCI mode. The BIOS must be in AHCI mode for
this to work.</dd><dt class="western">
‘<samp>-f </samp><samp><var>script</var></samp>’ 
</dt><dt class="western" style="margin-bottom: 0.2in">
‘<samp>--file </samp><samp><var>script</var></samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
The script file that contains the commands to be sent to the drive.
If this is not set, then it will look for a file named &quot;hddmenu&quot;
first in the current directory, then in the sub directory
&quot;hddscripts/&quot;, and then in &quot;/usr/local/bin/hddscripts/&quot;.
All subscripts will be loaded from the directory where hddmenu was
found. If no script file is found then the program will exit. 
</dd><dt class="western">
‘<samp>-i </samp><samp><var>spaces</var></samp>’ 
</dt><dt class="western" style="margin-bottom: 0.2in">
‘<samp>--indent </samp><samp><var>spaces</var></samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Performs an indentation cleanup on the script. This will indent
certain commands by the number of spaces specified. 
</dd><pre class="western" style="margin-bottom: 0.2in">
hddsupertool -i 2 -f script.txt</pre>
<dt class="western">‘<samp>-t </samp><samp><var>disk</var></samp>’
</dt><dt class="western" style="margin-bottom: 0.2in">
‘<samp>--target </samp><samp><var>disk</var></samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
The drive to which the commands are to be sent. This must be a whole
drive and not a partition. If you do specify a partition, all
commands will still reference the drive from the beginning and ignore
the partition offset. If this is not set, then a list of possible
devices will be presented to choose from. 
</dd><pre class="western" style="margin-bottom: 0.2in">
hddsupertool -t /dev/sda -f script.txt</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>--</samp><samp>ata</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
List drives via ata-passthrough (default).</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>--</samp><samp>scsi</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
List drives via scsi-passthrough.</dd><dt class="western">
<br>
</dt><dt class="western">
‘<samp>Q</samp>’ 
</dt><dt class="western" style="margin-bottom: 0.2in">
‘<samp>--quiet</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Surpress some of the output. This is mostly for my use to be able to
extract the help from the individual scripts to include in this
documentation. 
</dd><p class="western">
Example usage: 
</p>
<pre class="western" style="margin-bottom: 0.2in">hddsuperclone
--tool -t /dev/sda -f script.txt</pre>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="HDDSuperTool Default Variables"></a><font size="5" style="font-size: 20pt">HDDSuperTool
Default Variables</font></h2>
<p class="western">There are several variables that are automatically
created and used by the program. You should not use these variables
to store data as they will get overwritten by the program during
operation. 
</p>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>error_level</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Some commands will return data in this variable. The data is command
specific. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>io_sense_key</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
sense key - part of the key code qualifier. Only for passthrough. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>io_asc</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
additional sense code - part of the key code qualifier. Only for
passthrough. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>io_ascq</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
additional sense code qualifier - part of the key code qualifier.
Only for passthrough. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>io_status</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
This is the SCSI status byte as defined by the SCSI standard. Only
for passthrough. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>io_masked_status</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Refer to &quot;The Linux SCSI Generic (sg) HOWTO&quot;. Only for
passthrough. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>io_msg_status</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Refer to &quot;The Linux SCSI Generic (sg) HOWTO&quot;. Only for
passthrough. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>io_sb_len_wr</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Number of bytes in the sense buffer. Only for passthrough. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>io_host_status</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Refer to &quot;The Linux SCSI Generic (sg) HOWTO&quot;. Only for
passthrough. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>io_driver_status</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Refer to &quot;The Linux SCSI Generic (sg) HOWTO&quot;. Only for
passthrough. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>io_resid</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Refer to &quot;The Linux SCSI Generic (sg) HOWTO&quot;. Only for
passthrough. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>io_duration</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Number of milliseconds the SCSI command took to complete. Only for
passthrough. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>io_info</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Refer to &quot;The Linux SCSI Generic (sg) HOWTO&quot;. Only for
passthrough. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>ata_return_error</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
ATA error register data. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>ata_return_count</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
ATA count register data. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>ata_return_lba</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
ATA LBA register data combined into one value. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>ata_return_device</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
ATA device register data. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>ata_return_status</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
ATA status register data. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>time</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Value returned from GETTIME command. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>date</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Value returned from GETTIME command. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>data_transferred</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Returns the number of bytes transferred. This can be an indication if
data was transferred or not, but is not a guarantee that data was
actually transferred. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>command_status</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Return value from a command. Any value other than 0 indicates the
command failed to complete at the driver level, and any sense key or
register data may not be present or useful. 1 is for passthrough
only. 0x20 and up are for direct IO only. There are major and minor
values that are combined to form the full value. Values are listed in
hex. 
</dd><pre class="western">
Major values:</pre>
<pre class="western">1 = Passthrough error (ioctl driver reported an
error)</pre>
<pre class="western">2x = Busy or DRQ timeout while waiting to send
the command</pre>
<pre class="western">3x = Soft reset timeout, command did not
complete in time</pre>
<pre class="western">4x = Soft reset timeout, drive is not ready
after reset</pre>
<pre class="western">5x = General timeout, command did not complete
in time</pre>
<pre class="western">6x = No DRQ, drq was not set when it was
expected</pre>
<pre class="western">7x = Wrong device detected, something switched
the device</pre>
<pre class="western">8x or higher = Something bad went wrong when
processing</pre>
<pre class="western">Minor values:</pre>
<pre class="western">x1 = Exceeded reset timeout</pre>
<pre class="western" style="margin-bottom: 0.2in">x2 = Exceeded
general timeout</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>bus_master_status</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Bus master status. Only for direct mode when performing DMA commands.
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>direct_mode</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
A way for scripts to tell if using direct(value=1) or
passthrough(value=0) mode. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>ahci_mode</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
A way for scripts to tell if using AHCI mode. 
</dd><p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="HDDSuperTool Script Examples"></a><font size="5" style="font-size: 20pt">HDDSuperTool
Script Examples</font></h2>
<p class="western">The scripting can be a bit overwhelming to even
those that are used to some sort of programming. This section is an
attempt to demonstrate the basics. 
</p>
<p class="western">The following is a commented script to perform a
simple identify device command and display the raw data. 
</p>
<pre class="western"># first we must set the buffer size</pre>
<pre class="western">buffersize 512</pre>
<pre class="western"><br>
</pre>
<pre class="western"># now we must specify that this is a PIO read
command</pre>
<pre class="western">setreadpio</pre>
<pre class="western"><br>
</pre>
<pre class="western"># now we send the command</pre>
<pre class="western">ata28cmd 0 0 0 0 0 0xa0 0xec</pre>
<pre class="western"><br>
</pre>
<pre class="western"># show the data on the screen</pre>
<pre class="western">printbuffer 0 512</pre>
<pre class="western"><br>
</pre>
<pre class="western"># write the data to the file &quot;indentify.bin&quot;</pre>
<pre class="western">writebuffer &quot;indentify.bin&quot; 0 0 512</pre>
<pre class="western"><br>
</pre>
<pre class="western"># the data returned from this command is in
words in litte endian format,</pre>
<pre class="western"># and can be flipped for easier viewing of the
information</pre>
<pre class="western"># note that this is optional and not normally
used for other commands</pre>
<pre class="western">wordflipbuffer 0 512</pre>
<pre class="western"><br>
</pre>
<pre class="western"># show the flipped data on the screen</pre>
<pre class="western" style="margin-bottom: 0.2in">printbuffer 0 512</pre>
<p class="western">MHDD has several scripts available for different
things. Here is an example of translating a MHDD script to
HDDSuperTool. First here is a MHDD script to dump 2 sectors of module
02 from a WD Marvel drive (popular as the drive passwords are usually
stored there). 
</p>
<pre class="western">;script name: read md</pre>
<pre class="western">;reads md 02 on WD marwell drives</pre>
<pre class="western">;</pre>
<pre class="western">reset</pre>
<pre class="western">waitnbsy</pre>
<pre class="western"><br>
</pre>
<pre class="western">regs = $45 $0b $00 $44 $57 $a0 $80</pre>
<pre class="western">waitnbsy</pre>
<pre class="western"><br>
</pre>
<pre class="western">regs = $d6 $01 $be $4f $c2 $a0 $b0</pre>
<pre class="western">waitnbsy</pre>
<pre class="western">checkdrq</pre>
<pre class="western">sectorsfrom = cs.bin</pre>
<pre class="western"><br>
</pre>
<pre class="western">regs = $d5 $01 $bf $4f $c2 $a0 $b0</pre>
<pre class="western">waitnbsy</pre>
<pre class="western">checkdrq</pre>
<pre class="western">sectorsto = 21.bin</pre>
<pre class="western"><br>
</pre>
<pre class="western">regs = $d5 $01 $bf $4f $c2 $a0 $b0</pre>
<pre class="western">waitnbsy</pre>
<pre class="western">checkdrq</pre>
<pre class="western">sectorsto = 22.bin</pre>
<pre class="western"><br>
</pre>
<pre class="western" style="margin-bottom: 0.2in">; end</pre>
<p class="western">This also requires the 512 byte file cs.bin to
have been created by the user with the following data. Note that only
the first line has data, the rest of the file is 0 filled. 
</p>
<pre class="western">0x000  08 00 01 00 02 00 00 00 00 00 00 00 00 00
00 00</pre>
<pre class="western">......................................................</pre>
<pre class="western" style="margin-bottom: 0.2in">0x1f0  00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00</pre>
<p class="western">Here is the HDDSuperTool version. 
</p>
<pre class="western"># the first command is non-data, so set the
buffersize to 0</pre>
<pre class="western">buffersize 0</pre>
<pre class="western"><br>
</pre>
<pre class="western"># this is a PIO command so this must be set</pre>
<pre class="western">setreadpio</pre>
<pre class="western"><br>
</pre>
<pre class="western"># send the first command</pre>
<pre class="western">ata28cmd 0x45 0x0b 0x00 0x44 0x57 0xa0 0x80</pre>
<pre class="western"><br>
</pre>
<pre class="western"># optionally show the returned values of the
error and status registers</pre>
<pre class="western">echo &quot;error=0x&quot; $ata_return_error &quot;
status=0x&quot; $ata_return_status</pre>
<pre class="western"><br>
</pre>
<pre class="western"># the next command sends 512 bytes (the file) so
set the buffer size</pre>
<pre class="western">buffersize 0x200</pre>
<pre class="western"><br>
</pre>
<pre class="western"># clear the buffer to 0s so there is no other
data</pre>
<pre class="western">clearbuffer</pre>
<pre class="western"><br>
</pre>
<pre class="western"># put data in the buffer</pre>
<pre class="western"># note that this is the file data from cs.bin</pre>
<pre class="western"># as you can see it can be directly entered with
HDDSuperTool</pre>
<pre class="western">setbuffer 0</pre>
<pre class="western">  08 00 01 00 02</pre>
<pre class="western">endbuffer</pre>
<pre class="western"><br>
</pre>
<pre class="western"># this is a write command so set accordingly</pre>
<pre class="western">setwritepio</pre>
<pre class="western"><br>
</pre>
<pre class="western"># send the command</pre>
<pre class="western">ata28cmd 0xd6 0x01 0xbe 0x4f 0xc2 0xa0 0xb0</pre>
<pre class="western"><br>
</pre>
<pre class="western"># optionally show the returned values of the
error and status registers</pre>
<pre class="western">echo &quot;error=0x&quot; $ata_return_error &quot;
status=0x&quot; $ata_return_status</pre>
<pre class="western"><br>
</pre>
<pre class="western"># the next commands are read commands</pre>
<pre class="western">setreadpio</pre>
<pre class="western"><br>
</pre>
<pre class="western"># clear the buffer to 0s so we know the data
received is good</pre>
<pre class="western">clearbuffer</pre>
<pre class="western"><br>
</pre>
<pre class="western"># send the command</pre>
<pre class="western">ata28cmd 0xd5 0x01 0xbf 0x4f 0xc2 0xa0 0xb0</pre>
<pre class="western"><br>
</pre>
<pre class="western"># optionally show the returned values of the
error and status registers</pre>
<pre class="western">echo &quot;error=0x&quot; $ata_return_error &quot;
status=0x&quot; $ata_return_status</pre>
<pre class="western"><br>
</pre>
<pre class="western"># write the sector to a file</pre>
<pre class="western">writebuffer &quot;21.bin&quot; 0 0 0x200</pre>
<pre class="western"><br>
</pre>
<pre class="western"># clear the buffer to 0s so we know the data
received is good</pre>
<pre class="western">clearbuffer</pre>
<pre class="western"><br>
</pre>
<pre class="western"># send the command</pre>
<pre class="western">ata28cmd 0xd5 0x01 0xbf 0x4f 0xc2 0xa0 0xb0</pre>
<pre class="western"><br>
</pre>
<pre class="western"># optionally show the returned values of the
error and status registers</pre>
<pre class="western">echo &quot;error=0x&quot; $ata_return_error &quot;
status=0x&quot; $ata_return_status</pre>
<pre class="western"><br>
</pre>
<pre class="western"># write the sector to a file</pre>
<pre class="western">writebuffer &quot;22.bin&quot; 0 0 0x200</pre>
<pre class="western"><br>
</pre>
<pre class="western"># this command is not listed in the MHDD script
above</pre>
<pre class="western"># it is the counterpart to the first command</pre>
<pre class="western"># the first command turned on a special VSC mode</pre>
<pre class="western"># this command turns it back off, otherwise it
would need to be reset</pre>
<pre class="western">buffersize 0</pre>
<pre class="western">setreadpio</pre>
<pre class="western">ata28cmd 0x44 0x0b 0x00 0x44 0x57 0xa0 0x80</pre>
<pre class="western"><br>
</pre>
<pre class="western"># we are done</pre>
<pre class="western" style="margin-bottom: 0.2in">end</pre>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="HDDSuperTool Script Commands"></a><font size="5" style="font-size: 20pt">HDDSuperTool
Script Commands</font></h2>
<p class="western">Note that all commands, operators, operands, and
variables in the script MUST BE SEPARATED BY A SPACE. For example,
&quot;SETI $a=1&quot; is not correct and will be rejected. The proper
command would be &quot;SETI $a = 1&quot;. This is the syntax that I
used as it allows for less complicated programming code. Items can be
separated by more than one space with no issues, it just has to be a
minimum of one space. 
</p>
<p class="western">Note that all numbers written in the script are
assumed to be in decimal format, unless specified as hex by a
proceeding &quot;0x&quot;. The exeption is when setting the buffer
all numbers are assumed in hex format. 
</p>
<p class="western">All commands are available in all small letters or
all capital letters, but they cannot be mixed small and capital
letters. Commands are in all caps in this documentation for viewing
purposes. 
</p>
<p class="western">Most if not all commands will accept variables in
place of actual numbers or text. If you find a command that does not
properly accept variables when you think is should, please report it.
</p>
<p class="western">The available commands and syntax are as follows: 
</p>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>#</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Comment line. Anything following the # will not be processed. It must
be the first non-space character in the line. You cannot add a
comment to the end of a line. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>ECHO</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Print to screen output. Text can be output using quotes, either
single or double. Quotes of the opposite type inside the original
quotes will be output to the screen. Both string and number variables
can also be output. There must be a space between quotes and
variables, and variables must be outside the quotes. The following is
a proper example: 
</dd><pre class="western">
ECHO &quot;This will print the variable a=&quot; $a &quot; and then
the variable b=&quot; $b</pre>
<pre class="western" style="margin-bottom: 0.2in">ECHO &quot;This
will print single 'quotes' within the line&quot;</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>SETI</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Set a number variable. All variables must start with &quot;$&quot;.
All number variables are integers of type long long. That means they
can be a value from -9,223,372,036,854,775,808 to
9,223,372,036,854,775,807. You can also set it to another variable,
and also do simple math with two operands and one operator. 
</dd><dd class="western" style="margin-bottom: 0.2in">
Available operands are: 
</dd><pre class="western">
+  addition</pre>
<pre class="western">-  subtraction</pre>
<pre class="western">*  multiplication</pre>
<pre class="western">/  division (no remainder)</pre>
<pre class="western">%  division (result is the remainder)</pre>
<pre class="western">&amp;  bitwise and</pre>
<pre class="western">|  bitwise or</pre>
<pre class="western">^  bitwise exclusive or</pre>
<pre class="western">&lt;  bitwise shift left</pre>
<pre class="western" style="margin-bottom: 0.2in">&gt;  bitwise shift
right</pre>
<dd class="western" style="margin-bottom: 0.2in">Usage examples: 
</dd><pre class="western">
SETI $a = 3</pre>
<pre class="western">SETI $b = $a + 0x10</pre>
<pre class="western">SETI $c = $a * $b</pre>
<pre class="western" style="margin-bottom: 0.2in">SETI $count =
$count + 1</pre>
<dd class="western" style="margin-bottom: 0.2in">There are a couple
special cases for the SETI command. The first is the ability to
extract a number from a string variable. The format is &quot;SETI
$number = $string location&quot;, where $string is the string
variable containing the number to be extracted, and location is the
placement of the number inside the string, starting with 0 as the
first location. The location is based on spaces or tabs between the
numbers. The location can be a number variable itself. If the number
to be extracted starts with 0x it will be processed as hex, otherwise
it will be processed as decimal unless forced using the &quot;HEX&quot;
command. The following example will extract the number 3 from the
string 1 2 3 4 5. 
</dd><pre class="western">
sets $string = &quot;1 2 3 4 5&quot;</pre>
<pre class="western" style="margin-bottom: 0.2in">SETI $number =
$string 2</pre>
<dd class="western" style="margin-bottom: 0.2in">The second special
case is extracting a number from the buffer or scratchpad (or
sensebuffer, but words are not supported for sensebuffer). You can
only extract a byte, word, double word, or quad word. The format is
&quot;SETI $number = BUFFER location type&quot;, where location is
the starting byte location in the buffer, and type is either b, w,
dw, qw. If no type is specified it will assume the type is byte. Note
that the words are little endian, so a buffer value of 11 22 33 44
would be double word value 0x44332211. This can be useful for
extracting information from the identify device results. 
</dd><pre class="western">
#extract byte 234 from the buffer</pre>
<pre class="western">SETI $number = BUFFER 234</pre>
<pre class="western"><br>
</pre>
<pre class="western">#extract double word from the buffer starting at
byte 234</pre>
<pre class="western" style="margin-bottom: 0.2in">SETI $number =
BUFFER 234 dw</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>SETS</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Set a string variable. All variables must start with &quot;$&quot;.
The format is the similar to the ECHO command, except instead of
screen output the string ends up in the variable. 
</dd><pre class="western">
SETS $string = &quot;This will put the variable a=&quot; $a &quot;
and then the variable b=&quot;</pre>
<pre class="western" style="margin-bottom: 0.2in">$b &quot; along
with this message into a string variable&quot;</pre>
<dd class="western" style="margin-bottom: 0.2in">There is one
exception, where a part of the buffer can be extracted into the
string variable. The format for that is &quot;SETS $string = BUFFER
location length&quot;, where location is the byte position in the
buffer and length is the number of bytes to copy. The following
example will put 40 characters from the buffer starting at byte 54
into a string variable: 
</dd><pre class="western" style="margin-bottom: 0.2in">
SETS $string = BUFFER 54 40</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>EXIT</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
The script will terminate with an exit code. The format is &quot;EXIT
number&quot;, where number is a value from 0-255. Note that the
program already uses some of the lower numbers for program error
codes, so it is advised you use numbers 16-255. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>END</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
The script will terminate with a normal exit code of 0. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>HEX</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
This forces many commands to default to processing numbers as hex
instead of decimal. It will affect the output of the ECHO command and
also the SETS command. Be very careful using the HEX command, as it
can cause undesired results if left turned on. It is recommended to
only use it before a command such as ECHO to get the desired results
from the command, and then use the DECIMAL command to turn it back
off. 
</dd><pre class="western">
SETI $number = 0x7f</pre>
<pre class="western">ECHO &quot;The number in decimal is &quot;
$number</pre>
<pre class="western">HEX</pre>
<pre class="western">ECHO &quot;The number in hex is 0x&quot; $number</pre>
<pre class="western" style="margin-bottom: 0.2in">DECIMAL</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>DECIMAL</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
This turns off the HEX command and puts the default number processing
back to decimal. It does not force numbers to be processed as
decimal, if they are proceeded by 0x they are still processed as hex.
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>SETBUFFER</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Manually set the buffer contents. The buffer contains the data that
is either sent to or received from the drive. The format is
&quot;SETBUFFER offset&quot;, where offset is a number (can be a
variable) that is the location in the buffer to start. The lines
following the SETBUFFER command are the actual data, to be ended by
the ENDBUFFER command. The data must be in the format of
byte-space-byte-space-byte, and the data is always processed as hex.
There is no set number of bytes per row, the next row will just pick
up where the last row left off. A row can start with an additional
offset (which will be an additional offset to the supplied buffer
offset). To use the additional offset start the line with a hex
number followed by a colon. 
</dd><pre class="western">
# start setting the buffer at offset 128(0x80)</pre>
<pre class="western">SETBUFFER 0x80</pre>
<pre class="western">  0 1 2 3 4 5 6 7</pre>
<pre class="western">  8 9 a b c d e f</pre>
<pre class="western">  10 11 12 13 14 15 16 17 18 19 1a 1b 1c 1d 1e
1f</pre>
<pre class="western">  # the next line will jump to buffer offset
256(0x100)</pre>
<pre class="western">  80: 20 21 22 23 24 25 26 27 28 29 2a 2b 2c 2d
2e 2f</pre>
<pre class="western" style="margin-bottom: 0.2in">ENDBUFFER</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>ENDBUFFER</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Required for ending the SETBUFFER command. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>PRINTBUFFER</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Prints the buffer to the screen. The format is &quot;PRINTBUFFER
offset size&quot;, where offset is the starting buffer offset, and
size is the number of bytes to be printed. You cannot print past the
end of the current buffer size. 
</dd><pre class="western">
# show the first 256 bytes of the buffer</pre>
<pre class="western" style="margin-bottom: 0.2in">PRINTBUFFER 0 256</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>STRINGTOBUFFER</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Puts a string into the buffer contents. The format is &quot;STRINGTOBUFFER
offset size $string&quot;, where offset is the buffer offset, size is
the maximum copy size, and $string is the string variable name. If
size is greater than the length of the string then the whole string
will be copied into the buffer, and the copy will stop at the end of
the string. If size is smaller than the length of the string then it
will only copy up to the size limit and the rest of the string is
ignored. 
</dd><pre class="western">
SETS $string1 = &quot;this is a string&quot;</pre>
<pre class="western"># copy the whole string (up to 64 bytes) to the
buffer starting at offset 0x10</pre>
<pre class="western">STRINGTOBUFFER 0x10 64 $string1</pre>
<pre class="western"># copy only the first two words to the beginning
of the buffer</pre>
<pre class="western" style="margin-bottom: 0.2in">STRINGTOBUFFER 0 7
$string1</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>CLEARBUFFER</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Clears (erases) the entire buffer contents to zeros. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>BUFFERSIZE</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Sets a new buffer size. This erases (destroys) the current buffer
contents. The format is &quot;BUFFERSIZE size&quot;, where size is
the new size of the buffer in bytes. The default starting buffer size
is 512. The maximum buffer size is 33554432 (512 * 65536). 
</dd><pre class="western">
# increase the buffer size to 4096</pre>
<pre class="western" style="margin-bottom: 0.2in">BUFFERSIZE 4096</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>WRITEBUFFER</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Write the buffer or part of the buffer to a file. The format is
&quot;WRITEBUFFER filename bufferoffset fileoffset size&quot;, where
filename is the name of the file to write to, bufferoffset is the
byte offset of the starting point in the buffer, fileoffset is the
byte offset of the write point in the file, and size is the size in
bytes to be written. If the file does not exist it will be created.
This will overwrite the designated data in the file, but will not
erase any other data in the file, meaning you can keep adding data to
the file at different offsets. 
</dd><pre class="western">
# write the first 512 bytes of the buffer to the file named image.bin</pre>
<pre class="western">WRITEBUFFER image.bin 0 0 512</pre>
<pre class="western"># write 512 bytes to the second sector of the
file</pre>
<pre class="western" style="margin-bottom: 0.2in">WRITEBUFFER
image.bin 0 512 512</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>READBUFFER</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Read a part of a file to the buffer. The format is &quot;READBUFFER
filename bufferoffset fileoffset size&quot;, where filename is the
name of the file to read from, bufferoffset is the byte offset of the
starting point in the buffer, fileoffset is the byte offset of the
read point in the file, and size is the size in bytes to be read. 
</dd><pre class="western">
# read the first 512 bytes of the file named image.bin to the start
of the</pre>
<pre class="western">buffer</pre>
<pre class="western">READBUFFER image.bin 0 0 512</pre>
<pre class="western"># read the second 512 bytes of the file to the
buffer</pre>
<pre class="western" style="margin-bottom: 0.2in">READBUFFER
image.bin 0 512 512</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>DIRECTION</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Set the direction of the data transfer to either NONE, TO, FROM, or
TOFROM. This is often required for proper processing of both SCSI and
ATA passthrough commands by the Linux kernel. The proper direction
needed for a command can be found in the SCSI or ATA documentation
respectively. Note that for ATA commands this is set by the
SETREADPIO, SETREADDMA, SETWRITEPIO, and SETWRITEDMA commands
respectively, so you do not need to set it directly. You do need to
set it with SCSI commands. 
</dd><pre class="western">
# set the direction to read data from the drive</pre>
<pre class="western" style="margin-bottom: 0.2in">DIRECTION FROM</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>SCSI6CMD</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Perform an scsi 6 command. Format is &quot;SCSI6CMD b0 b1 b2 b3 b4
b5&quot;, where b0-b5 are the actual bytes of the command. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>SCSI10CMD</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Perform an scsi 10 command. Format is &quot;SCSI10CMD b0 b1 b2 b3 b4
b5 b6 b7 b8 b9&quot;, where b0-b9 are the actual bytes of the
command. 
</dd><pre class="western">
# perform scsi capacity 10 command</pre>
<pre class="western">DIRECTION FROM</pre>
<pre class="western" style="margin-bottom: 0.2in">SCSI10CMD 0x25 0 0
0 0 0 0 0 0 0</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>SCSI12CMD</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Perform an scsi 12 command. Format is &quot;SCSI12CMD b0 b1 b2 b3 b4
b5 b6 b7 b8 b9 b10 b11&quot;, where b0-b11 are the actual bytes of
the command. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>SCSI16CMD</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Perform an scsi 16 command. Format is &quot;SCSI16CMD b0 b1 b2 b3 b4
b5 b6 b7 b8 b9 b10 b11 b12 b13 b14 b15&quot;, where b0-b15 are the
actual bytes of the command. 
</dd><pre class="western">
# perform scsi capacity 16 command</pre>
<pre class="western">DIRECTION FROM</pre>
<pre class="western" style="margin-bottom: 0.2in">SCSI16CMD 0x9e 0x10
0 0 0 0 0 0 0 0 0 0 0 0x12 0 0</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>PRINTSENSEBUFFER</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Prints the SCSI return sense buffer to the screen so that advanced
users can decode the results. The format is &quot;PRINTSENSEBUFFER
offset size&quot;, where offset is the sense buffer offset, and size
is the number of bytes to be printed. The maximum sense buffer size
is 256. 
</dd><pre class="western">
# display the contents of the sense buffer that was returned, if any</pre>
<pre class="western" style="margin-bottom: 0.2in">PRINTSENSEBUFFER 0
$io_sb_len_wr</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>SETREADPIO</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Prepare for PIO read. Required before performing this type of ATA
command. If the buffer size is set to zero prior to this command,
then it will setup for a non-data command. If you wish to perform a
non-data command you should set the buffer size to zero before
performing this command. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>SETWRITEPIO</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Prepare for PIO write. Required before performing this type of ATA
command. If the buffer size is set to zero prior to this command,
then it will setup for a non-data command. If you wish to perform a
non-data command you should set the buffer size to zero before
performing this command. The non-data command is the same as when
performing a non-data SETREADPIO command. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>SETREADDMA</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Prepare for DMA read. Required before performing this type of ATA
command. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>SETWRITEDMA</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Prepare for DMA write. Required before performing this type of ATA
command. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>ATA28CMD</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
ATA 28 bit command. The format is &quot;ATA28CMD b0 b1 b2 b3 b4 b5
b6&quot;, where b0-b6 are the actual bytes of the command according
to ATA documentation. Note that the device bit of the device field
will be set for you according to the device being accessed, in either
passthrough or direct IO modes. b0 = features b1 = count b2 = lba low
b3 = lba mid b4 = lba high b5 = device b6 = command 
</dd><pre class="western">
# perform ata_identify_device command</pre>
<pre class="western">buffersize 512</pre>
<pre class="western">setreadpio</pre>
<pre class="western">ATA28CMD 0 0 0 0 0 0xa0 0xec</pre>
<pre class="western">echo &quot;Raw buffer:&quot;</pre>
<pre class="western" style="margin-bottom: 0.2in">printbuffer 0 512</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>ATA48CMD</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
ATA 48 bit command. The format is &quot;ATA48CMD w0 w1 w2 w3 w4 b5
b6&quot;, where w0-w4 are the actual words of the command according
to ATA documentation, and b5-b6 are the device and commands bytes.
The words are in standard format and not flipped (not little endian),
meaning that 0x0001 has a value of 1. Note that the device bit of the
device field will be set for you according to the device being
accessed, in either passthrough or direct IO modes, so it does not
matter what value you give that bit. Also remember that the LBA order
is reversed from the 28 bit command. w0 = features w1 = count w2 =
lba high w3 = lba mid w4 = lba low b5 = device b6 = command 
</dd><pre class="western">
# perform ata_identify_device command</pre>
<pre class="western">buffersize 512</pre>
<pre class="western">setreadpio</pre>
<pre class="western">ATA48CMD 0 0 0 0 0 0xa0 0xec</pre>
<pre class="western">echo &quot;Raw buffer:&quot;</pre>
<pre class="western" style="margin-bottom: 0.2in">printbuffer 0 512</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>WRITELOG</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Write a string variable to a text file as a line. This will append
the string to the end of the existing file. The format is &quot;WRITELOG
filename string&quot;, where filename is the name of the file to be
written to, and string is the variable to be written. If the file
does not exist it will be created. 
</dd><pre class="western">
# write text lines to the file named logfile.txt</pre>
<pre class="western">sets $line1 = &quot;This is the first line&quot;</pre>
<pre class="western">sets $line2 = &quot;This is the second line&quot;</pre>
<pre class="western">WRITELOG logfile.txt $line1</pre>
<pre class="western" style="margin-bottom: 0.2in">WRITELOG
logfile.txt $line2</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>GETTIME</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
This gets the current time and date and sets two variables. Number
variable $time will have the time in microseconds since the Epoch
(1970-01-01 00:00:00 +0000 (UTC)). String variable $date will contain
the current date and time. 
</dd><pre class="western">
# display the time since Epoch and the current date</pre>
<pre class="western">GETTIME</pre>
<pre class="western">echo &quot;time since Epoch usec: &quot; $time</pre>
<pre class="western">echo &quot;todays date: &quot; $date</pre>
<pre class="western"><br>
</pre>
<pre class="western"># display the time elapsed</pre>
<pre class="western">GETTIME</pre>
<pre class="western">seti $start_time = $time</pre>
<pre class="western"># do some program stuff here that takes time</pre>
<pre class="western">GETTIME</pre>
<pre class="western">seti $elapsed_time = $time - start_time</pre>
<pre class="western" style="margin-bottom: 0.2in">echo &quot;time
elapsed usec: &quot; $elapsed_time</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>REOPENDISK</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Only for passthrough, has no effect with direct IO. Closes and
reopens the current disk. This seems to perform a soft reset on the
drive, which can be helpful in certain cases where it may not respond
properly after performing certain commands. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>IF</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Conditional if statement. The format is &quot;IF value1 condition
value2&quot;, where value1 and value2 are number or string variables
and condition is the comparison to be made. The values can be actual
numbers (or strings) or variables. If using an actual string (word),
do not use quotes, and there cannot be spaces in the string. To
compare strings with spaces in them you must set and compare string
variables. Complex statements are not allowed (more than one
condition). Math is also not allowed within the statement. Multiple
IF statements can be nested. Each IF statement must be ended with the
ENDIF command. Everything in between the IF and ENDIF is executed if
the condition is true. 
</dd><dd class="western" style="margin-bottom: 0.2in">
Available conditions are: 
</dd><pre class="western">
&lt;  less than</pre>
<pre class="western">&gt;  greater than</pre>
<pre class="western">=  equal</pre>
<pre class="western">!=  not equal</pre>
<pre class="western">&lt;=  less than or equal</pre>
<pre class="western">&gt;=  greater than or equal</pre>
<pre class="western" style="margin-bottom: 0.2in">Note that only
equal and not equal are allowed when comparing strings</pre>
<dd class="western" style="margin-bottom: 0.2in">Example: 
</dd><pre class="western">
seti $high = 100</pre>
<pre class="western">if $a &gt; 1</pre>
<pre class="western">  echo &quot;a is greater than 1&quot;</pre>
<pre class="western">  if $a &gt; 10</pre>
<pre class="western">    echo &quot;a is greater than 10&quot;</pre>
<pre class="western">    if $a &gt; $high</pre>
<pre class="western">      echo &quot;a is greater than &quot; $high</pre>
<pre class="western">    endif</pre>
<pre class="western">  endif</pre>
<pre class="western" style="margin-bottom: 0.2in">endif</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>ENDIF</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Marks the end of an IF statement. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>ELSE</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Statement to be processed when the IF and any ELSEIF statements are
false. 
</dd><dd class="western" style="margin-bottom: 0.2in">
Example: 
</dd><pre class="western">
if $a &gt; 0</pre>
<pre class="western">  echo &quot;a is greater than 0&quot;</pre>
<pre class="western">else</pre>
<pre class="western">  echo &quot;a is less than or equal to 0&quot;</pre>
<pre class="western" style="margin-bottom: 0.2in">endif</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>ELSEIF</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Conditional statement to be processed when the IF or preceeding
ELSEIF statements are false. The format is the same as the IF
statement. 
</dd><dd class="western" style="margin-bottom: 0.2in">
Example: 
</dd><pre class="western">
if $a &gt; 10</pre>
<pre class="western">  echo &quot;a is greater than 10&quot;</pre>
<pre class="western">elseif $a &lt; 0</pre>
<pre class="western">  echo &quot;a is less than 0&quot;</pre>
<pre class="western">elseif $a = 5</pre>
<pre class="western">  echo &quot;a is equal to 5&quot;</pre>
<pre class="western">else</pre>
<pre class="western">  echo &quot;a is between 0 and 10 but is not 5&quot;</pre>
<pre class="western" style="margin-bottom: 0.2in">endif</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>SUBROUTINE</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Marks the start of a subroutine. The format is &quot;SUBROUTINE
name&quot;, where name is the name of the subroutine. The subroutine
must be ended with the ENDSUBROUTINE command. 
</dd><pre class="western">
subroutine show_ata_return</pre>
<pre class="western">  echo &quot;ATA return data:</pre>
<pre class="western">  hex</pre>
<pre class="western">  echo &quot;error=0x&quot; $ata_return_error &quot;
count=0x&quot; $ata_return_count &quot; lba=0x&quot;</pre>
<pre class="western">$ata_return_lba &quot; device=0x&quot;
$ata_return_device &quot; status=0x&quot; $ata_return_status</pre>
<pre class="western">  decimal</pre>
<pre class="western" style="margin-bottom: 0.2in">endsubroutine</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>ENDSUBROUTINE</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Marks the end of a subroutine. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>GOSUB</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Calls a subroutine. The format is &quot;GOSUB name&quot;, where name
is the name of the subroutine. When the subroutine ends by either the
ENDSUBROUTINE or RETURNSUB command, program execution will resume on
the line followin the GOSUB command. 
</dd><pre class="western">
ata28cmd 0 0 0 0 0 0xa0 0xec</pre>
<pre class="western">gosub show_ata_return</pre>
<pre class="western" style="margin-bottom: 0.2in">printbuffer 0 512</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>RETURNSUB</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Returns from the current subroutine. This is meant to be used with
conditional statements, to be able to exit the subroutine before
reaching the ENDSUBROUTINE command. 
</dd><pre class="western">
subroutine do_something</pre>
<pre class="western">  if $error_level != 0</pre>
<pre class="western">    returnsub</pre>
<pre class="western">  endif</pre>
<pre class="western">  printbuffer 0 512</pre>
<pre class="western" style="margin-bottom: 0.2in">endsubroutine</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>WHILE</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Conditional loop. The format is the same as the IF command. The WHILE
command must be ended with the DONE command. If the WHILE condition
is true then the code between the WHILE and DONE commands is
executed. When the DONE command is reached, the WHILE condition is
checked again to see if it is true or false. When the condition is
false the code continues on after the DONE command, otherwise it
loops back to the beginning of the WHILE command. 
</dd><dd class="western" style="margin-bottom: 0.2in">
Example: 
</dd><pre class="western">
# count from 1 to 10</pre>
<pre class="western">seti $count = 1</pre>
<pre class="western">while $count &lt;= 10</pre>
<pre class="western">  echo &quot;The count is &quot; $count</pre>
<pre class="western">  seti $count = $count + 1</pre>
<pre class="western" style="margin-bottom: 0.2in">done</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>DONE</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Marks the end of the WHILE command. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>BREAK</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Breaks out of the current WHILE command. This is meant to be used
with conditional statements, to be able to exit the loop without
having to get all the way to the DONE command, or to exit when the
condition is still true. Example: 
</dd><pre class="western">
# count from 1 to 10</pre>
<pre class="western">seti $count = 1</pre>
<pre class="western"># this while statement is always true so would
loop forever without break</pre>
<pre class="western">while 1 = 1</pre>
<pre class="western">  echo &quot;The count is &quot; $count</pre>
<pre class="western">  seti $count = $count + 1</pre>
<pre class="western">  if $count &gt; 10</pre>
<pre class="western">    break</pre>
<pre class="western">  endif</pre>
<pre class="western" style="margin-bottom: 0.2in">done</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>SETSCRATCHPAD</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Manually set the scratchpad contents. The format and use is the same
as the SETBUFFER command. The scratchpad is a second buffer that you
can use. The difference between the buffer and scratchpad is that the
scratchpad is not used for direct disk command data transfers. It is
just for storing and manipulating any data you wish. 
</dd><dd class="western" style="margin-bottom: 0.2in">
There is one important difference from the SETBUFFER command. The
SETSCRATCHPAD command will allow for values greater than 255. When
this happens, it sets a quad word in the scratchpad, instead of just
one byte. This is in place to make it easier to write variable values
to a file. So be careful with this! 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>ENDSCRATCHPAD</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Required for ending the SETSCRATCHPAD command. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>PRINTSCRATCHPAD</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Print the scratchpad to the screen. The format and use is the same as
the PRINTBUFFER command. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>STRINGTOSCRATCHPAD</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Puts a string into the scratchpad contents. The format and use is the
same as the STRINGTOBUFFER command. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>CLEARSCRATCHPAD</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Clears (erases) the entire scratchpad contents to zeros. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>SCRATCHPADSIZE</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Sets a new scratchpad size. The format and use is the same as the
BUFFERSIZE command. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>WRITESCRATCHPAD</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Write the scratchpad to a file. The format is and use is the same as
the WRITEBUFFER command. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>READSCRATCHPAD</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Read a part of a file to the scratchpad. The format and use is the
same as the READBUFFER command. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>COPYSCATCHPADTOBUFFER</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Copies a part of the scatchpad to the buffer. The format is
&quot;COPYSCATCHPADTOBUFFER scratchoffset bufferoffset size&quot;,
where scratchoffset is the starting offset of the scratchpad,
bufferoffset is the starting offset of the buffer, and size is the
number of bytes to copy. 
</dd><pre class="western">
# copy 512 bytes from scratchpad to buffer</pre>
<pre class="western" style="margin-bottom: 0.2in">copyscratchpadtobuffer
0 0 512</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>COPYBUFFERTOSCRATCHPAD</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Copies a part of the buffer to the scratchpad. The format is
&quot;COPYBUFFERTOSCRATCHPAD bufferoffset scratchoffset size&quot;,
where bufferoffset is the starting offset of the buffer,
scratchoffset is the starting offset of the scratchpad, and size is
the number of bytes to copy. 
</dd><pre class="western">
# copy 512 bytes from buffer to scratchpad</pre>
<pre class="western" style="margin-bottom: 0.2in">copybuffertoscratchpad
0 0 512</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>VARIABLECHECK</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Check if a variable has been set and what type it is. The format is
&quot;VARIABLECHECK variable&quot;, where variable is the name of the
variable to be checked. The purpose of this is to check if a varaible
was set properly on the command line. The result is returned in
$error_level. A value of 0 = variable not set. A value of 1 =
variable is of number type but only set in script. A value of 2 =
varaible is of string type but only set in script. A value of 17 =
variable is of number type and is set on the command line. A value of
18 = variable is of string type and is set on the command line. 
</dd><pre class="western">
# check variable type for $input</pre>
<pre class="western">variablecheck $input</pre>
<pre class="western">if $error_level = 0</pre>
<pre class="western">  echo &quot;variable not set&quot;</pre>
<pre class="western">elseif $error_level = 1</pre>
<pre class="western">  echo &quot;variable is number but not set on
command line&quot;</pre>
<pre class="western">elseif $error_level = 2</pre>
<pre class="western">  echo &quot;variable is string but not set on
command line&quot;</pre>
<pre class="western">elseif $error_level = 17</pre>
<pre class="western">  echo &quot;variable is number and was set on
command line&quot;</pre>
<pre class="western">elseif $error_level = 18</pre>
<pre class="western">  echo &quot;variable is string and was set on
command line&quot;</pre>
<pre class="western" style="margin-bottom: 0.2in">endif</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>GETFILESIZE</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Get the size of a file. The format is &quot;GETFILESIZE filename&quot;,
where filename is the name (with optional path) of the file. Filename
can be the raw file name or a string that contains the file name. The
raw file name cannnot contain spaces. If there are spaces, the file
name must be in a string. The size of the file in bytes is returned
in $error_level. If the file does not exist or there is some other
error then $error_level will contain -1. 
</dd><pre class="western">
# get the file size of the file &quot;test.txt&quot;</pre>
<pre class="western">getfilesize test.txt</pre>
<pre class="western"># get the file size of the file &quot;the
test.txt&quot;</pre>
<pre class="western">sets $filename = &quot;the test.txt&quot;</pre>
<pre class="western">getfilesize $filename</pre>
<pre class="western">if error_level = -1</pre>
<pre class="western">  echo &quot;File not found&quot;</pre>
<pre class="western" style="margin-bottom: 0.2in">endif</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>DELETEFILE</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Delete a file. The format is &quot;DELETEFILE filename&quot;, where
filename is the name (with optional path) of the file. Filename can
be the raw file name or a string that contains the file name. The raw
file name cannnot contain spaces. If there are spaces, the file name
must be in a string. 
</dd><pre class="western">
# delete the file &quot;test.txt&quot;</pre>
<pre class="western">deletefile test.txt</pre>
<pre class="western"># delete the file &quot;the test.txt&quot;</pre>
<pre class="western">sets $filename = &quot;the test.txt&quot;</pre>
<pre class="western" style="margin-bottom: 0.2in">deletefile
$filename</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>CALLCOMMAND</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Perform a command line command. The format is &quot;CALLCOMMAND
command&quot;, where command is the command line command to be
performed. The command can be a string varaible, or a single word
command. For commands that contain multiple words, you must use a
string variable. 
</dd><pre class="western">
# perform the command &quot;ls -a&quot;</pre>
<pre class="western">sets $command = &quot;ls -a&quot;</pre>
<pre class="western" style="margin-bottom: 0.2in">callcommand
$command</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>USERINPUT</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Get user input from keyboard. The format is &quot;USERINPUT
variable&quot;, where variable is the string variable where the user
input is placed. This will pause the program waiting for the user to
type something and then press enter. 
</dd><dd class="western" style="margin-bottom: 0.2in">
Example: 
</dd><pre class="western">
echo &quot;What would you like to do?&quot;</pre>
<pre class="western">echo &quot;1) Perform action 1&quot;</pre>
<pre class="western">echo &quot;2) Perform action 2&quot;</pre>
<pre class="western">echo &quot;3) Perform action 3&quot;</pre>
<pre class="western">echo &quot;Enter your choice:</pre>
<pre class="western">userinput $choicestring</pre>
<pre class="western"># extract the first number from the string</pre>
<pre class="western">seti $choice = $choicestring 0</pre>
<pre class="western">if $choice = 1</pre>
<pre class="western">  echo &quot;your choice was 1&quot;</pre>
<pre class="western">elseif $choice = 2</pre>
<pre class="western">  echo &quot;your choice was 2&quot;</pre>
<pre class="western">elseif $choice = 3</pre>
<pre class="western">  echo &quot;your choice was 3&quot;</pre>
<pre class="western">else</pre>
<pre class="western">  echo &quot;invalid choice&quot;</pre>
<pre class="western" style="margin-bottom: 0.2in">endif</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>WORDFLIPBUFFER</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Flip the bytes within words from little endian to normal. The format
is &quot;WORDFLIPBUFFER offset size&quot;, where offset is the offset
in the buffer to start the flip and size is how many bytes to flip.
If the size is an odd number the last byte will not be flipped. This
command is useful for getting some proper readable information from
the identify device command, such as the model and serial number. 
</dd><pre class="western">
# show the model and serial number of a drive</pre>
<pre class="western">buffersize 512</pre>
<pre class="western">protocol pio-data-in</pre>
<pre class="western">direction from</pre>
<pre class="western">ata28cmd 0 0 0 0 0 0xa0 0xec</pre>
<pre class="western">wordflipbuffer 0 512</pre>
<pre class="western">sets $model = buffer 54 40</pre>
<pre class="western">echo &quot;Model= &quot; $model</pre>
<pre class="western">sets $serial = buffer 20 20</pre>
<pre class="western" style="margin-bottom: 0.2in">echo &quot;Serial=
&quot; $serial</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>WORDFLIPSCRATCHPAD</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Flip the bytes within words from little endian to normal. The format
and use is the same as the WORDFLIPBUFFER command. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>GETSTATUS</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
This will update the status and error registers ($ata_return_error,
$ata_return_status, and $ata_alternate_status). This only works for
direct IO. For passthrough it attempts to send the proper protocol,
but it would appear that Linux does not support that protocol and
returns sense data of &quot;invalid field in CDB&quot;. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>SOFTRESET</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
This performs a soft reset of the device. Note that this will reset
both devices on the controller. This only works for direct IO. For
passthrough it attempts to send the proper protocol, but it would
appear that Linux does not support that protocol and returns sense
data of &quot;invalid field in CDB&quot;. To perform a soft reset
using passthrough, use the REOPENDISK command. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>USLEEP</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Sleep for x amount of microseconds. The format is &quot;USLEEP
microseconds&quot;. This is a way to make the program sleep without
using CPU, perhaps waiting for a drive to become ready. 
</dd><pre class="western">
echo &quot;Sleeping for 5 seconds&quot;</pre>
<pre class="western">USLEEP 5000000</pre>
<pre class="western" style="margin-bottom: 0.2in">echo &quot;Done
sleeping&quot;</pre>
<dt class="western" style="margin-bottom: 0.2in">‘<samp>SOFTTIMEOUT</samp>’
</dt><dd class="western" style="margin-bottom: 0.2in">
Only for direct IO, has no effect with passthrough. When performing
an ATA command, the time to wait before sending a soft reset. The
format is &quot;SOFTTIMEOUT microseconds&quot;. The default is
15000000 (15s). This is used to automatically perform a soft reset if
a command times out, so that it does not have to be done manually. If
this happens, the register status will reflect the status after the
soft reset. The soft reset waits for the drive to be ready up to the
value of RESETTIMEOUT after performing the reset before returning. If
you don’t want to perform a soft reset when it times out, set the
SOFTTIMEOUT value greater than the value of GENERALTIMEOUT. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>RESETTIMEOUT</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Only for direct IO, has no effect with passthrough. When performing
an ATA command, the time to wait for the drive to be ready after a
soft reset before returning. The format is &quot;RESETTIMEOUT
microseconds&quot;. The default is 15000000 (15s). 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>BUSYTIMEOUT</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Only for direct IO, has no effect with passthrough. When performing
an ATA command, the time to wait before giving up if the device is
busy prior to issuing the command. The format is &quot;BUSYTIMEOUT
microseconds&quot;. The default is 15000000 (15s). If you don’t
want the device to time out for being busy, set this value greater
than the value of GENERALTIMEOUT. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>GENERALTIMEOUT</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
This timer is mostly for direct IO, but can also influence
passthrough in some circumstances. When performing a command, the
time to wait before giving up if the command has not finished. The
format is &quot;GENERALTIMEOUT microseconds&quot;. The default is
30000000 (30s). 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>LOADSCRIPT</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Loads a different script into memory. The format is &quot;LOADSCRIPT
script&quot;, where script is the script file to be loaded. This is
mostly designed for a menu driven system. All current variables will
be passed on to the new script. The new script will start from the
beginning. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>PREVIOUSSCRIPT</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Loads the previous script into memory, if there was one. This is
designed for a menu driven system. When returning to the previous
script, the previous script will start from the beginning. All
current varaibles will be passed on to the previous script. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>INCLUDE</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
This will append another script file to the end (bottom) the current
one in memory. The format is &quot;INCLUDE script&quot;, where script
is the script file to be loaded. This is useful for including common
subroutines without having to copy them into every script. 
</dd><dt class="western" style="margin-bottom: 0.2in">
‘<samp>UPLINE</samp>’ 
</dt><dd class="western" style="margin-bottom: 0.2in">
Used for display purposes. Moves the cursor up one line. This is
useful for repeating data on the screen without scrolling. 
</dd><p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<h2 class="western"><br><br>
</h2>
<h2 class="western"><a name="HDDSuperTool Scripts"></a><font size="5" style="font-size: 20pt">HDDSuperTool
Scripts</font></h2>
<p class="western">This section contains all the help available for
the individual scripts. 
</p>
<p class="western">ata28_erase_sectors_pio 
</p>
<pre class="western">Erase sector(s) from the disk using 28 bit write
pio data-out command.</pre>
<pre class="western">This requires number variables &quot;sector&quot;
and &quot;count&quot; to be set.</pre>
<pre class="western">&quot;sector&quot; is the starting sector to
write.</pre>
<pre class="western">&quot;count&quot; is the number of sectors to
write (max 256).</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sda -f ata28_write_sectors_pio sector=0 count=1</pre>
<p class="western">ata28_makebad 
</p>
<pre class="western">Make a bad sector using the old 28 bit writelong
command.</pre>
<pre class="western">This command is obsolete and not supported on
all drives.</pre>
<pre class="western">This requires number variable &quot;sector&quot;
to be set.</pre>
<pre class="western">&quot;sector&quot; is the starting sector to
write.</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sda -f ata28_makebad sector=0</pre>
<p class="western">ata28_read_sectors_dma 
</p>
<pre class="western">Read sector(s) from the disk using 28 bit read
dma data-in command.</pre>
<pre class="western">This requires number variables &quot;sector&quot;
and &quot;count&quot; to be set.</pre>
<pre class="western">&quot;sector&quot; is the starting sector to
read.</pre>
<pre class="western">&quot;count&quot; is the number of sectors to
read (max 256).</pre>
<pre class="western">This also requires the string variable &quot;file&quot;
to be set.</pre>
<pre class="western">&quot;file&quot; is the name of the file the
data will be written to.</pre>
<pre class="western">Example: hddsupertool -t /dev/sda -f
ata28_read_sectors_dma sector=0 count=1 file==&quot;sector0.bin&quot;</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sda -f ata28_read_sectors_dma sector=2048
count=16 file==&quot;sectors2048-2053.bin&quot;</pre>
<p class="western">ata28_read_sectors_pio 
</p>
<pre class="western">Read sector(s) from the disk using 28 bit read
pio data-in command.</pre>
<pre class="western">This requires number variables &quot;sector&quot;
and &quot;count&quot; to be set.</pre>
<pre class="western">&quot;sector&quot; is the starting sector to
read.</pre>
<pre class="western">&quot;count&quot; is the number of sectors to
read (max 256).</pre>
<pre class="western">This also requires the string variable &quot;file&quot;
to be set.</pre>
<pre class="western">&quot;file&quot; is the name of the file the
data will be written to.</pre>
<pre class="western">Example: hddsupertool -t /dev/sda -f
ata28_read_sectors_pio sector=0 count=1 file==&quot;sector0.bin&quot;</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sda -f ata28_read_sectors_pio sector=2048
count=16 file==&quot;sectors2048-2053.bin&quot;</pre>
<p class="western">ata28_readlong 
</p>
<pre class="western">Perform the old 28 bit readlong command.</pre>
<pre class="western">This command is obsolete and not supported on
all drives.</pre>
<pre class="western">This requires number variables &quot;sector&quot;
to be set.</pre>
<pre class="western">&quot;sector&quot; is the sector to read.</pre>
<pre class="western">This also requires the string variable &quot;file&quot;
to be set.</pre>
<pre class="western">&quot;file&quot; is the name of the file the
data will be written to.</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sda -f ata28_readlong sector=0
file==&quot;longsector0.bin&quot;</pre>
<p class="western">ata28_write_sectors_dma 
</p>
<pre class="western">Write sector(s) to the disk using 28 bit write
dma data-out command.</pre>
<pre class="western">This requires number variables &quot;sector&quot;
and &quot;count&quot; to be set.</pre>
<pre class="western">&quot;sector&quot; is the starting sector to
write.</pre>
<pre class="western">&quot;count&quot; is the number of sectors to
write (max 256).</pre>
<pre class="western">This also requires the string variable &quot;file&quot;
to be set.</pre>
<pre class="western">&quot;file&quot; is the name of the file the
data will be read from.</pre>
<pre class="western">Example: hddsupertool -t /dev/sda -f
ata28_write_sectors_dma sector=0 count=1 file==&quot;sector0.bin&quot;</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sda -f ata28_write_sectors_dma sector=2048
count=16 file==&quot;sectors2048-2053.bin&quot;</pre>
<p class="western">ata28_write_sectors_pio 
</p>
<pre class="western">Write sector(s) to the disk using 28 bit write
pio data-out command.</pre>
<pre class="western">This requires number variables &quot;sector&quot;
and &quot;count&quot; to be set.</pre>
<pre class="western">&quot;sector&quot; is the starting sector to
write.</pre>
<pre class="western">&quot;count&quot; is the number of sectors to
write (max 256).</pre>
<pre class="western">This also requires the string variable &quot;file&quot;
to be set.</pre>
<pre class="western">&quot;file&quot; is the name of the file the
data will be read from.</pre>
<pre class="western">Example: hddsupertool -t /dev/sda -f
ata28_write_sectors_pio sector=0 count=1 file==&quot;sector0.bin&quot;</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sda -f ata28_write_sectors_pio sector=2048
count=16 file==&quot;sectors2048-2053.bin&quot;</pre>
<p class="western">ata48_erase_sectors_pio 
</p>
<pre class="western">Erase sector(s) from the disk using 48 bit write
pio data-out command.</pre>
<pre class="western">This requires number variables &quot;sector&quot;
and &quot;count&quot; to be set.</pre>
<pre class="western">&quot;sector&quot; is the starting sector to
write.</pre>
<pre class="western">&quot;count&quot; is the number of sectors to
write (max 65536).</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sda -f ata48_write_sectors_pio sector=0 count=1</pre>
<p class="western">ata48_read_sectors_dma 
</p>
<pre class="western">Read sector(s) from the disk using 48 bit read
dma data-in command.</pre>
<pre class="western">This requires number variables &quot;sector&quot;
and &quot;count&quot; to be set.</pre>
<pre class="western">&quot;sector&quot; is the starting sector to
read.</pre>
<pre class="western">&quot;count&quot; is the number of sectors to
read (max 65536).</pre>
<pre class="western">This also requires the string variable &quot;file&quot;
to be set.</pre>
<pre class="western">&quot;file&quot; is the name of the file the
data will be written to.</pre>
<pre class="western">Example: hddsupertool -t /dev/sda -f
ata48_read_sectors_dma sector=0 count=1 file==&quot;sector0.bin&quot;</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sda -f ata48_read_sectors_dma sector=2048
count=16 file==&quot;sectors2048-2053.bin&quot;</pre>
<p class="western">ata48_read_sectors_pio 
</p>
<pre class="western">Read sector(s) from the disk using 48 bit read
pio data-in command.</pre>
<pre class="western">This requires number variables &quot;sector&quot;
and &quot;count&quot; to be set.</pre>
<pre class="western">&quot;sector&quot; is the starting sector to
read.</pre>
<pre class="western">&quot;count&quot; is the number of sectors to
read (max 65536).</pre>
<pre class="western">This also requires the string variable &quot;file&quot;
to be set.</pre>
<pre class="western">&quot;file&quot; is the name of the file the
data will be written to.</pre>
<pre class="western">Example: hddsupertool -t /dev/sda -f
ata48_read_sectors_pio sector=0 count=1 file==&quot;sector0.bin&quot;</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sda -f ata28_read_sectors_pio sector=2048
count=16 file==&quot;sectors2048-2053.bin&quot;</pre>
<p class="western">ata48_write_sectors_dma 
</p>
<pre class="western">Write sector(s) to the disk using 48 bit write
dma data-out command.</pre>
<pre class="western">This requires number variables &quot;sector&quot;
and &quot;count&quot; to be set.</pre>
<pre class="western">&quot;sector&quot; is the starting sector to
write.</pre>
<pre class="western">&quot;count&quot; is the number of sectors to
write (max 65536).</pre>
<pre class="western">This also requires the string variable &quot;file&quot;
to be set.</pre>
<pre class="western">&quot;file&quot; is the name of the file the
data will be read from.</pre>
<pre class="western">Example: hddsupertool -t /dev/sda -f
ata48_write_sectors_dma sector=0 count=1 file==&quot;sector0.bin&quot;</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sda -f ata48_write_sectors_dma sector=2048
count=16 file==&quot;sectors2048-2053.bin&quot;</pre>
<p class="western">ata48_write_sectors_pio 
</p>
<pre class="western">Write sector(s) to the disk using 48 bit write
pio data-out command.</pre>
<pre class="western">This requires number variables &quot;sector&quot;
and &quot;count&quot; to be set.</pre>
<pre class="western">&quot;sector&quot; is the starting sector to
write.</pre>
<pre class="western">&quot;count&quot; is the number of sectors to
write (max 65536).</pre>
<pre class="western">This also requires the string variable &quot;file&quot;
to be set.</pre>
<pre class="western">&quot;file&quot; is the name of the file the
data will be read from.</pre>
<pre class="western">Example: hddsupertool -t /dev/sda -f
ata48_write_sectors_pio sector=0 count=1 file==&quot;sector0.bin&quot;</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sda -f ata48_write_sectors_pio sector=2048
count=16 file==&quot;sectors2048-2053.bin&quot;</pre>
<p class="western">ata48_write_uncorrectable 
</p>
<pre class="western">Make bad sector(s) from the disk using 48 bit
write uncorrectable non-data command.</pre>
<pre class="western">This creates a pseudo-uncorrectable error
without logging.</pre>
<pre class="western">This requires number variables &quot;sector&quot;
and &quot;count&quot; to be set.</pre>
<pre class="western">&quot;sector&quot; is the starting sector to
write.</pre>
<pre class="western">&quot;count&quot; is the number of sectors to
write (max 65536).</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sda -f ata48_write_uncorrectable sector=0
count=1</pre>
<p class="western">ata_disable_look_ahead 
</p>
<pre class="western">Disable read look ahead.</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sda -f ata_disable_look_ahead</pre>
<p class="western">ata_enable_look_ahead 
</p>
<pre class="western">Enable read look ahead.</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sda -f ata_enable_look_ahead</pre>
<p class="western">ata_identify_device 
</p>
<pre class="western">This will send the identify device command to
the drive and display the raw results.</pre>
<pre class="western">It will also display some of the drive
capabilities and status.</pre>
<pre class="western">A value of 0 = not supported or not enabled.</pre>
<pre class="western">A value of 1 = supported or enabled.</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sda -f ata_identify_device</pre>
<p class="western">ata_scan_device 
</p>
<pre class="western">This will scan the drive using the read verify
command.</pre>
<pre class="western">Reads are done in blocks (clusters) of 256
sectors.</pre>
<pre class="western">This means that all warnings and errors show the
position</pre>
<pre class="western"> of the first sector of the block, NOT the
actual problem sector.</pre>
<pre class="western">If the required variables below are not set on
the command line,</pre>
<pre class="western"> then you will be propted to enter them.</pre>
<pre class="western">This requires the number variable startsector to
be set.</pre>
<pre class="western">This requires the number variable endsector to
be set.</pre>
<pre class="western">If endsector is set to 0, it will default to the
last addressable sector.</pre>
<pre class="western">This uses the identify device command to
determine the last sector.</pre>
<pre class="western">This requires the number variable threshold to
be set.</pre>
<pre class="western">Threshold is time in milliseconds.</pre>
<pre class="western">If a read exceeds the threshold, a warning will
be given.</pre>
<pre class="western">If threshold is set to 0, it will default to
150ms.</pre>
<pre class="western">This requires the number variable softtimeout to
be set.</pre>
<pre class="western">Softtimeout is the time in milliseconds to wait
before giving up on a command.</pre>
<pre class="western">If softtimeout is set to 0, it will default to
10000ms.</pre>
<pre class="western">This requires the number variable hardtimeout to
be set.</pre>
<pre class="western">Hardtimeout is the time to wait after a
softreset before doing a hardreset.</pre>
<pre class="western">If hardtimeout is set to 0, it will default to
10000ms.</pre>
<pre class="western">This requires the string variable logfile to be
set.</pre>
<pre class="western">Logfile will capture all the warnings and
errors.</pre>
<pre class="western">This requires the string variable rateslog to be
set.</pre>
<pre class="western">Rateslog will capture timing info that can be
ploted.</pre>
<pre class="western">Rateslog captures the low, high, and average
over 256 block reads.</pre>
<pre class="western">If logfile and/or ratesfile are blank no log
will be produced.</pre>
<pre class="western">Example using defaults:</pre>
<pre class="western" style="margin-bottom: 0.2in">hddsupertool -t
/dev/sda -f ata_scan_device threshold=0 softtimeout=0 startsector=0
endsector=0 logfile==&quot;&quot; rateslog==&quot;&quot;</pre>
<p class="western">ata_sct_error_control_timer 
</p>
<pre class="western">This command is not supported by all drives.</pre>
<pre class="western">View the results of the identify device command
to check support.</pre>
<pre class="western">Get the value of the read error control timer.</pre>
<pre class="western">Optionally set the value of the read error
control timer.</pre>
<pre class="western">This command uses the number variable &quot;timer&quot;.</pre>
<pre class="western">Timer can be a value from 0-65535.</pre>
<pre class="western">The timer controls how much time before giving
up on a read error.</pre>
<pre class="western">Normally this is in 100ms increments (value of 5
would be 500ms),</pre>
<pre class="western"> but this is drive specific (try different
values to see what happens).</pre>
<pre class="western">The default value is 0 (unlimited, all recovery
proceedures are tried).</pre>
<pre class="western">This value is not permenant, it resets with a
power cycle.</pre>
<pre class="western">If timer is not set it will only show the
current value.</pre>
<pre class="western">Example to show current error timer:</pre>
<pre class="western">  hddsupertool -t /dev/sda -f
ata_sct_error_control_timer</pre>
<pre class="western">Example to set the error control timer to 1:</pre>
<pre class="western" style="margin-bottom: 0.2in">  hddsupertool -t
/dev/sda -f ata_sct_error_control_timer timer=1</pre>
<p class="western">ata_sct_readlong 
</p>
<pre class="western">Perform an SCT read long command if supported.</pre>
<pre class="western">This command requires the number variable
&quot;sector&quot; to be set on the command line.</pre>
<pre class="western">This also requires the string variable &quot;file&quot;
to be set.</pre>
<pre class="western">&quot;file&quot; is the name of the file the
data will be written to.</pre>
<pre class="western">Note that even if this command is supported, it
may still be of no value.</pre>
<pre class="western">The ATA documentation states that the data
returned may be encoded.</pre>
<pre class="western">And my experience so far is that the data is
usually encoded and totally useless.</pre>
<pre class="western">So don't get your hopes up about using this
command to get any worthwhile data.</pre>
<pre class="western">It is mainly a demonstration of using the SCT
commands.</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sdb -f ata48_sct_readlong sector=100
file==&quot;sector100.bin</pre>
<p class="western">ata_security_remove_password 
</p>
<pre class="western">Remove the password from the disk using 28 bit
security disable password command.</pre>
<pre class="western">This requires either the string variable
&quot;password&quot; or &quot;hex&quot; to be set.</pre>
<pre class="western">Password is the password in plain text.</pre>
<pre class="western">Hex is the password in hex. It does not require
0x to proceed numbers.</pre>
<pre class="western">If neither password or hex is set then the
password will be blank (all 0s).</pre>
<pre class="western">DO NOT SET BOTH or you could end up with
undesired results!</pre>
<pre class="western">This requires the number variable &quot;type&quot;
to be set on the command line.</pre>
<pre class="western">Type is either 0 for user password or 1 for
master password.</pre>
<pre class="western">If type is not set it will default to 0.</pre>
<pre class="western">Example: hddsupertool -t /dev/sdb -f
ata_security_remove_password password==&quot;abcd&quot; type=0</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sdb -f ata_security_remove_password hex==&quot;0a
0b 0c 0d&quot; type=0</pre>
<p class="western">ata_security_set_password 
</p>
<pre class="western">Set the password from the disk using 28 bit
security disable password command.</pre>
<pre class="western">This requires either the string variable
&quot;password&quot; or &quot;hex&quot; to be set.</pre>
<pre class="western">Password is the password in plain text.</pre>
<pre class="western">Hex is the password in hex. It does not require
0x to proceed numbers.</pre>
<pre class="western">If neither password or hex is set then the
password will be blank (all 0s).</pre>
<pre class="western">DO NOT SET BOTH or you could end up with
undesired results!</pre>
<pre class="western">This requires the number variable &quot;type&quot;
to be set on the command line.</pre>
<pre class="western">Type is either 0 for user password or 1 for
master password.</pre>
<pre class="western">If type is not set it will default to 0.</pre>
<pre class="western">This requires the number variable &quot;level&quot;
to be set on the command line.</pre>
<pre class="western">Level is either 0 for high security or 1 for
maximum security.</pre>
<pre class="western">If level is not set it will default to 0.</pre>
<pre class="western">Example: hddsupertool -t /dev/sdb -f
ata_security_set_password password==&quot;abcd&quot; type=0 level=0</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sdb -f ata_security_set_password hex==&quot;0a
0b 0c 0d&quot; type=0 level=0</pre>
<p class="western">ata_security_unlock 
</p>
<pre class="western">Unlock the disk using 28 bit security unlock pio
data-out command.</pre>
<pre class="western">This requires either the string variable
&quot;password&quot; or &quot;hex&quot; to be set.</pre>
<pre class="western">Password is the password in plain text.</pre>
<pre class="western">Hex is the password in hex. It does not require
0x to proceed numbers.</pre>
<pre class="western">If neither password or hex is set then the
password will be blank (all 0s).</pre>
<pre class="western">DO NOT SET BOTH or you could end up with
undesired results!</pre>
<pre class="western">This requires the number variable &quot;type&quot;
to be set on the command line.</pre>
<pre class="western">Type is either 0 for user password or 1 for
master password.</pre>
<pre class="western">If type is not set it will default to 0.</pre>
<pre class="western">Example: hddsupertool -t /dev/sdb -f
ata_security_unlock password==&quot;abcd&quot; type=0</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sdb -f ata_security_unlock hex==&quot;0a 0b 0c
0d&quot; type=0</pre>
<p class="western">ata_smart_data 
</p>
<pre class="western">This will read the smart data from the drive and
display the results.</pre>
<pre class="western" style="margin-bottom: 0.2in">Example:
hddsupertool -t /dev/sda -f ata_smart_data</pre>
<p class="western">ata_status 
</p>
<pre class="western">This will get the current drive status registers
if direct IO.</pre>
<pre class="western" style="margin-bottom: 0.2in">This does not work
with passthrough.</pre>
<p class="western">good_subroutines 
</p>
<pre class="western">This contains common subroutines that are used
by other scripts.</pre>
<pre class="western" style="margin-bottom: 0.2in">This file is
required by most scripts.</pre>
<p class="western">hddmenu 
</p>
<pre class="western"> 
</pre>
<pre class="western">Main menu</pre>
<pre class="western">q) Quit</pre>
<pre class="western">h) Toggle script help</pre>
<pre class="western">1) Device information</pre>
<pre class="western">2) Read sectors</pre>
<pre class="western">3) Write sectors</pre>
<pre class="western">4) Erase sectors</pre>
<pre class="western">5) Tools</pre>
<pre class="western">6) Security</pre>
<pre class="western">7) VSC</pre>
<pre class="western" style="margin-bottom: 0.2in">8) Custom</pre>
<p class="western">hddsubmenu_custom 
</p>
<pre class="western"> 
</pre>
<pre class="western">Custom menu</pre>
<pre class="western">q) Quit</pre>
<pre class="western">p) Previous menu</pre>
<pre class="western">h) Toggle script help</pre>
<pre class="western">1) Custom message</pre>
<pre class="western">8) my scripts tech</pre>
<pre class="western" style="margin-bottom: 0.2in">9) my scripts test</pre>
<p class="western">hddsubmenu_erase 
</p>
<pre class="western"> 
</pre>
<pre class="western">Erase menu</pre>
<pre class="western">q) Quit</pre>
<pre class="western">p) Previous menu</pre>
<pre class="western">h) Toggle script help</pre>
<pre class="western">1) Erase sectors 28 PIO</pre>
<pre class="western" style="margin-bottom: 0.2in">2) Erase sectors 48
PIO</pre>
<p class="western">hddsubmenu_info 
</p>
<pre class="western"> 
</pre>
<pre class="western">Device information menu</pre>
<pre class="western">q) Quit</pre>
<pre class="western">p) Previous menu</pre>
<pre class="western">h) Toggle script help</pre>
<pre class="western">1) Identify device</pre>
<pre class="western" style="margin-bottom: 0.2in">2) Smart info</pre>
<p class="western">hddsubmenu_read 
</p>
<pre class="western"> 
</pre>
<pre class="western">Read sectors menu</pre>
<pre class="western">q) Quit</pre>
<pre class="western">p) Previous menu</pre>
<pre class="western">h) Toggle script help</pre>
<pre class="western">1) Read sectors PIO 28</pre>
<pre class="western">2) Read sectors PIO 48</pre>
<pre class="western">3) Read sectors DMA 28</pre>
<pre class="western">4) Read sectors DMA 48</pre>
<pre class="western">5) Readlong (old 28 bit)</pre>
<pre class="western" style="margin-bottom: 0.2in">6) Readlong (48 bit
SCT)</pre>
<p class="western">hddsubmenu_security 
</p>
<pre class="western"> 
</pre>
<pre class="western">Security menu</pre>
<pre class="western">q) Quit</pre>
<pre class="western">p) Previous menu</pre>
<pre class="western">h) Toggle script help</pre>
<pre class="western">1) Security remove password</pre>
<pre class="western">2) Security set password</pre>
<pre class="western" style="margin-bottom: 0.2in">3) Security unlock</pre>
<p class="western">hddsubmenu_tools 
</p>
<pre class="western"> 
</pre>
<pre class="western">Tools menu</pre>
<pre class="western">q) Quit</pre>
<pre class="western">p) Previous menu</pre>
<pre class="western">h) Toggle script help</pre>
<pre class="western">1) Scan device</pre>
<pre class="western">2) Make a bad sector</pre>
<pre class="western">3) Write uncorrectable</pre>
<pre class="western">4) Disable read look ahead</pre>
<pre class="western">5) Enable read look ahead</pre>
<pre class="western">6) Error Control Timer (SCT)</pre>
<pre class="western">7) Reset Device</pre>
<pre class="western">8) Get device status</pre>
<pre class="western" style="margin-bottom: 0.2in">9) Hard Reset</pre>
<p class="western">hddsubmenu_vsc 
</p>
<pre class="western"> 
</pre>
<pre class="western">VSC menu</pre>
<pre class="western">q) Quit</pre>
<pre class="western">p) Previous menu</pre>
<pre class="western">h) Toggle script help</pre>
<pre class="western">1) WD dump mod 42 (older Caviar drives)</pre>
<pre class="western">2) WD royl (Marvel) dump mod 02</pre>
<pre class="western">3) WD royl (Marvel) dump mod 32</pre>
<pre class="western">4) WD royl (Marvel) patch mod 02 (slow fix)</pre>
<pre class="western">5) WD royl (Marvel) patch mod 32 (slow fix
additional)</pre>
<pre class="western">6) WD royl (Marvel) dump all modules</pre>
<pre class="western">7) WD royl (Marvel) dump selected module</pre>
<pre class="western">8) WD royl (Marvel) read rom</pre>
<pre class="western">9) WD royl (Marvel) check rom file</pre>
<pre class="western">10) WD royl (Marvel) write rom (dangerous)</pre>
<pre class="western" style="margin-bottom: 0.2in">11) WD royl
(Marvel) write module (dangerous)</pre>
<p class="western">hddsubmenu_write 
</p>
<pre class="western"> 
</pre>
<pre class="western">Write sectors menu</pre>
<pre class="western">q) Quit</pre>
<pre class="western">p) Previous menu</pre>
<pre class="western">h) Toggle script help</pre>
<pre class="western">1) Write sectors PIO 28</pre>
<pre class="western">2) Write sectors PIO 48</pre>
<pre class="western">3) Write sectors DMA 28</pre>
<pre class="western" style="margin-bottom: 0.2in">4) Write sectors
DMA 48</pre>
<p class="western">hddsuperclone_debug.log 
</p>
<pre class="western">ERROR! Command 'HDDSuperClone' on line '1' not a
valid command.</pre>
<pre class="western">HDDSuperClone debug file created at Mon Dec 31
16:02:06 2018</pre>
<pre class="western" style="margin-bottom: 0.2in">There was an error
processing the script 'hddsuperclone_debug.log'. Exiting...</pre>
<p class="western">reset 
</p>
<pre class="western">This will soft reset the device if direct IO.</pre>
<pre class="western" style="margin-bottom: 0.2in">If passthrough it
will reopen the device.</pre>
<p class="western">reset_hard 
</p>
<pre class="western">This will hard reset the device if direct IO.</pre>
<pre class="western" style="margin-bottom: 0.2in">If passthrough it
will reopen the device.</pre>
<p class="western">wd_dump_mod42 
</p>
<pre class="western">Western Digital (older) dump module 42 to file
using vendor specific commands.</pre>
<pre class="western">This will dump the first 3 sectors of the module
to the file &quot;mod42.bin&quot;.</pre>
<pre class="western" style="margin-bottom: 0.2in">It will also show
it on the screen.</pre>
<p class="western">wd_royl_check_rom 
</p>
<pre class="western">Western Digital ROYL check ROM file.</pre>
<pre class="western">This script performs some checks on a ROM file.</pre>
<pre class="western">This requires the text variable &quot;file&quot;
to be set.</pre>
<pre class="western">&quot;file&quot; is the name of the file
containing the ROM.</pre>
<pre class="western">This scipt does not perform any disk IO,</pre>
<pre class="western" style="margin-bottom: 0.2in">so it can be ran
with any target, even /dev/zero.</pre>
<p class="western">wd_royl_dump_mod02 
</p>
<pre class="western">Western Digital ROYL dump module 02 to file
using vendor specific commands.</pre>
<pre class="western">By default this will dump the sectors of the
module to the file &quot;mod02.bin&quot;.</pre>
<pre class="western">It will also display the data on the screen.</pre>
<pre class="western" style="margin-bottom: 0.2in">Note that some USB
drives do not support these vendor specific commands.</pre>
<p class="western">wd_royl_dump_mod32 
</p>
<pre class="western">Western Digital ROYL dump module 32 to file
using vendor specific commands.</pre>
<pre class="western">By default this will dump the sectors of the
module to the file &quot;mod32.bin&quot;.</pre>
<pre class="western">It will also display the data on the screen.</pre>
<pre class="western" style="margin-bottom: 0.2in">Note that some USB
drives do not support these vendor specific commands.</pre>
<p class="western">wd_royl_dump_mod_all 
</p>
<pre class="western">Western Digital ROYL dump all modules using
vendor specific commands.</pre>
<pre class="western">This will dump the sectors of the modules to the
files &quot;modulexxxx.bin&quot;.</pre>
<pre class="western" style="margin-bottom: 0.2in">Note that some USB
drives do not support these vendor specific commands.</pre>
<p class="western">wd_royl_dump_mod_select 
</p>
<pre class="western">Western Digital ROYL dump a module to file using
vendor specific commands.</pre>
<pre class="western">By default this will dump the sectors of the
module to the file &quot;mod0x(select).bin&quot;.</pre>
<pre class="western">It will also display the data on the screen.</pre>
<pre class="western">This requires the number variable &quot;mod&quot;
to be set in DECIMAL.</pre>
<pre class="western">To enter a hex number preceed it with &quot;0x&quot;.</pre>
<pre class="western" style="margin-bottom: 0.2in">mod is the SA
module to be read.</pre>
<p class="western">wd_royl_patch_mod02 
</p>
<pre class="western">Western Digital ROYL patch module 0x02 using
vendor specific commands.</pre>
<pre class="western">This is to resolve a common WD slow issue, where
the drive reads slow.</pre>
<pre class="western">Definition of the &quot;slow responding issue&quot;:</pre>
<pre class="western"> - The drive is reading very slow, but all reads
are GOOD.</pre>
<pre class="western">This may not help any if the reads are bad due
to a weak or bad head.</pre>
<pre class="western">WARNING: THIS IS DANGEROUS AND COULD KILL THE
DRIVE!!!</pre>
<pre class="western">USE AT YOUR OWN RISK!!!</pre>
<pre class="western">Western Digital ROYL patch module 02 to file
using vendor specific commands.</pre>
<pre class="western">Note that some USB drives do not support these
vendor specific commands.</pre>
<pre class="western">This patch is meant for drives that suffer from
the &quot;slow&quot; issue.</pre>
<pre class="western">This patch disables the background scanning on
the drive.</pre>
<pre class="western">This patch is based on data from the following
forum thread:</pre>
<pre class="western">  WD - Fixing the &quot;Slow Issue&quot;
manually :</pre>
<pre class="western"> 
http://www.hddoracle.com/viewtopic.php?f=86&amp;t=848</pre>
<pre class="western">This will dump the sectors to the file
&quot;&lt;serial&gt;_mod02orig.bin&quot;.</pre>
<pre class="western">And it will create the file
&quot;&lt;serial&gt;_mod02patched.bin&quot;.</pre>
<pre class="western">It will also create a folder using the model and
serial as the folder name,</pre>
<pre class="western"> and create a backup dump file with the date and
time as part of the name.</pre>
<pre class="western">It will create a backup dump every time a read
or write is attempted.</pre>
<pre class="western">The drive must be power cycled for the changes
to take effect.</pre>
<pre class="western">You have three options:</pre>
<pre class="western">1) Read the module to a file and create the
patch.</pre>
<pre class="western">2) Write the patched data back to the disk.</pre>
<pre class="western" style="margin-bottom: 0.2in">3) Restore the
original dump.</pre>
<p class="western">wd_royl_patch_mod32 
</p>
<pre class="western">Western Digital ROYL patch module 0x32 using
vendor specific commands.</pre>
<pre class="western">This is to resolve a common WD slow issue, where
the drive reads slow.</pre>
<pre class="western">Definition of the &quot;slow responding issue&quot;:</pre>
<pre class="western"> - The drive is reading very slow, but all reads
are GOOD.</pre>
<pre class="western">This may not help any if the reads are bad due
to a weak or bad head.</pre>
<pre class="western">WARNING: THIS IS DANGEROUS AND COULD KILL THE
DRIVE!!!</pre>
<pre class="western">USE AT YOUR OWN RISK!!!</pre>
<pre class="western">This patch may not be needed if the module 0x02
patch fixes the slow issue.</pre>
<pre class="western">You should perform the module 0x02 patch first
and power cycle the drive.</pre>
<pre class="western">If the module 0x02 patch works, then do not
bother with this patch.</pre>
<pre class="western">Western Digital ROYL patch module 32 to file
using vendor specific commands.</pre>
<pre class="western">Note that some USB drives do not support these
vendor specific commands.</pre>
<pre class="western">This patch is meant for drives that suffer from
the &quot;slow&quot; issue.</pre>
<pre class="western">This patch clears some data in the RE-LO list.</pre>
<pre class="western">However, it may not clear everything that is
needed, and is a bit of a hack.</pre>
<pre class="western">It is intended be used along with the module 02
patch.</pre>
<pre class="western">However, it is normally not needed if the module
02 patch solves the slow issue.</pre>
<pre class="western">This patch is based on data from the following
forum thread:</pre>
<pre class="western">  WD - Fixing the &quot;Slow Issue&quot;
manually :</pre>
<pre class="western"> 
http://www.hddoracle.com/viewtopic.php?f=86&amp;t=848</pre>
<pre class="western">This will dump the sectors to the file
&quot;&lt;serial&gt;_mod32orig.bin&quot;.</pre>
<pre class="western">And it will create the file
&quot;&lt;serial&gt;_mod32patched.bin&quot;.</pre>
<pre class="western">It will also create a folder using the model and
serial as the folder name,</pre>
<pre class="western"> and create a backup dump file with the date and
time as part of the name.</pre>
<pre class="western">It will create a backup dump every time a read
or write is attempted.</pre>
<pre class="western">The drive must be power cycled for the changes
to take effect.</pre>
<pre class="western">You have three options:</pre>
<pre class="western">1) Read the module to a file and create the
patch.</pre>
<pre class="western">2) Write the patched data back to the disk.</pre>
<pre class="western" style="margin-bottom: 0.2in">3) Restore the
original dump.</pre>
<p class="western">wd_royl_read_rom 
</p>
<pre class="western">Western Digital ROYL read ROM to file using
vendor specific commands.</pre>
<pre class="western">Note that some USB drives do not support these
vendor specific commands.</pre>
<pre class="western">This requires the text variable &quot;file&quot;
to be set.</pre>
<pre class="western" style="margin-bottom: 0.2in">&quot;file&quot; is
the name of the file to dump the ROM.</pre>
<p class="western">wd_royl_write_mod 
</p>
<pre class="western">Western Digital ROYL write module from file
using vendor specific commands.</pre>
<pre class="western">WARNING: THIS IS DANGEROUS AND COULD KILL THE
DRIVE!!!</pre>
<pre class="western">USE AT YOUR OWN RISK!!!</pre>
<pre class="western">It is IMPORTANT to use 0x to select the module
number in HEX!</pre>
<pre class="western">The difference between decimal and hex COULD
KILL THE DRIVE!!!</pre>
<pre class="western">This modifies data in the service area of the
drive!</pre>
<pre class="western">If you don't know what you are doing, then don't
do it!</pre>
<pre class="western">Western Digital ROYL write module from file
using vendor specific commands.</pre>
<pre class="western">Note that some USB drives do not support these
vendor specific commands.</pre>
<pre class="western">WARNING! THIS SCRIPT COULD BE DANGEROUS IF YOU
DO NOT KNOW WHAT YOU ARE DOING!</pre>
<pre class="western">It will create a folder using the model and
serial as the folder name,</pre>
<pre class="western"> and create a backup dump file with the date and
time as part of the name.</pre>
<pre class="western">It will create a backup dump every time a read
or write is attempted.</pre>
<pre class="western">The checksum will be recalculated if it not
correct.</pre>
<pre class="western">This requires the number variable &quot;mod&quot;
to be set in DECIMAL.</pre>
<pre class="western">To enter a HEX number preceed it with &quot;0x&quot;
(IMPORTANT TO SELECT CORRECT MODULE).</pre>
<pre class="western">&quot;mod&quot; is the SA module to be written.</pre>
<pre class="western">This requires the text variable &quot;file&quot;
to be set.</pre>
<pre class="western" style="margin-bottom: 0.2in">&quot;file&quot; is
the file which is to be written to the module.</pre>
<p class="western">wd_royl_write_rom 
</p>
<pre class="western">Western Digital ROYL write rom from file using
vendor specific commands.</pre>
<pre class="western">WARNING: THIS IS DANGEROUS AND COULD KILL THE
DRIVE!!!</pre>
<pre class="western">THIS IS EVEN MORE DANGEROUS OVER USB!!!</pre>
<pre class="western">DO NOT STOP THIS PROCESS OR REMOVE POWER FROM
THE DRIVE!!!</pre>
<pre class="western">IF THE ROM GETS ERASED BUT NOT WRITTEN, DO NOT
REMOVE POWER!!!</pre>
<pre class="western">USE AT YOUR OWN RISK!!!</pre>
<pre class="western">If you write an incompatible ROM you could kill
the drive!</pre>
<pre class="western">If the erase works but the write fails, you
could kill the drive!</pre>
<pre class="western">In this emergency case, use slow and stupid mode
to attempt to write.</pre>
<pre class="western">Do not use slow and stupid mode unless you
erased the rom and are stuck.</pre>
<pre class="western">It is recommended to perform another ROM dump
and check after writing</pre>
<pre class="western">  to be sure it worked. Use the other scripts
for these functions.</pre>
<pre class="western">If the script fails for any reason, it is
recommended to do another dump</pre>
<pre class="western">  and check to make sure ROM is still in good
condition.</pre>
<pre class="western">This requires the text variable &quot;file&quot;
to be set.</pre>
<pre class="western">&quot;file&quot; is the name of the file to dump
the rom.</pre>
<pre class="western">This requires the number variable
&quot;slow_and_stupid&quot; to be set.</pre>
<pre class="western">&quot;slow_and_stupid&quot; is an emergency mode
if the flash is erased but not written.</pre>
<pre class="western">A value of 0 is off, any other value is on.</pre>
<pre class="western" style="margin-bottom: 0.2in">It is not
recommended to use slow_and_stupid unless needed.</pre>
<p class="western"><br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
<br><br>
</p>
<p style="margin-top: 0.03in; margin-bottom: 0.03in; line-height: 100%">
Previous: <a href="#HDDSuperTool Scripts">HDDSuperTool Scripts</a>,
Up: <a href="#Top">Top</a></p>
</body>
</html>